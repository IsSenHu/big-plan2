01-28 17:19:37.240 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:19:37.259 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:19:37.693 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:19:37.728 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@491b9b8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1a4927d6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7a6d7e92, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@aba625, org.springframework.test.context.support.DirtiesContextTestExecutionListener@97e93f1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a5a729f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4b520ea8, org.springframework.test.context.event.EventPublishingTestExecutionListener@16150369, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b09fb41, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@624ea235, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3932c79a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@782859e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23f5b5dc]
01-28 17:19:39.361 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:19:40.470 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:19:40.945 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:19:40.948 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:19:41.527 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 568ms. Found 9 JPA repository interfaces.
01-28 17:19:41.558 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:19:41.560 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:19:41.592 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.593 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.594 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.595 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.596 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.598 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.599 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.600 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.601 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:19:41.602 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 23ms. Found 0 Redis repository interfaces.
01-28 17:19:41.781 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:19:42.093 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:19:42.558 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:19:43.263 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:19:43.450 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:19:43.848 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:19:44.027 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:19:44.288 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:19:44.313 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:19:45.756 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:19:45.766 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:19:46.710 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:19:48.144 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:19:48.153 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@549404e7, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@29c76d75, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@346a2799, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@17344d7}
01-28 17:19:48.668 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:19:48.668 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:19:48.669 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:19:48.669 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:19:48.669 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:19:48.670 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:19:48.670 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:19:48.670 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:19:48.671 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:19:48.671 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:19:48.879 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c25385a, org.springframework.security.web.context.SecurityContextPersistenceFilter@8942ece, org.springframework.security.web.header.HeaderWriterFilter@ab2e887, org.springframework.security.web.authentication.logout.LogoutFilter@2bfa5678, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6329a5b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a5b1af7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b55ea4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75d0cac6, org.springframework.security.web.session.SessionManagementFilter@2f7d8a7c, org.springframework.security.web.access.ExceptionTranslationFilter@504274c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20a3321a]
01-28 17:19:49.235 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:19:49.253 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:19:49.719 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:19:50.290 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:19:50.911 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:19:51.375 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:19:51.408 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:19:51.463 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:19:51.480 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:19:51.500 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:19:51.550 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:19:52.772 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:19:52.917 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:19:53.346 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$et/263KC0pI1ZfrrWBdHVu.6VW1Jh3oJHgUY4cNWpA4I36cqNY3mK.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:19:53.369 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 15.35 seconds (JVM running for 17.978)
01-28 17:19:53.422 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@d4962bd]
01-28 17:19:53.468 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@1ec4fdcf
01-28 17:19:53.474 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@67aaf882
01-28 17:19:53.477 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4172c967
01-28 17:19:53.479 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:19:53.479 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:19:53.480 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:19:53.480 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:19:53.480 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:19:53.481 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:19:53.481 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:19:53.482 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:19:53.483 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:19:53.696 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:19:53.781 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:19:53.786 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:19:53.787 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:19:53.807 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:19:54.056 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:19:54.144 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:19:54.162 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:19:54.164 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:19:54.179 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:20:16.948 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:20:16.980 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:20:17.400 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:20:17.437 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:20:18.742 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:20:19.753 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:20:20.160 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:20:20.163 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:20:20.680 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 504ms. Found 9 JPA repository interfaces.
01-28 17:20:20.708 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:20:20.711 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:20:20.746 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.747 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.748 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.750 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.751 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.752 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.753 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.754 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.755 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:20:20.756 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 28ms. Found 0 Redis repository interfaces.
01-28 17:20:20.916 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:20:21.211 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:20:21.603 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:20:22.171 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:20:22.295 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:20:22.575 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:20:22.752 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:20:22.970 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:20:22.988 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:20:24.229 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:20:24.238 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:20:25.077 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:20:26.371 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:20:26.379 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@5a010eec, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@623ded82, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@180e33b0, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@270be080}
01-28 17:20:26.819 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:20:26.820 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:20:26.820 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:20:26.821 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:20:26.821 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:20:26.821 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:20:26.822 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:20:26.823 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:20:26.823 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:20:26.823 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:20:27.014 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e80de85, org.springframework.security.web.context.SecurityContextPersistenceFilter@169d5567, org.springframework.security.web.header.HeaderWriterFilter@113cc14d, org.springframework.security.web.authentication.logout.LogoutFilter@67aaf882, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@20a46227, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27c827ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e5f05f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@173b24c4, org.springframework.security.web.session.SessionManagementFilter@47c422d3, org.springframework.security.web.access.ExceptionTranslationFilter@4e553d60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b9615cb]
01-28 17:20:27.328 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:20:27.341 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:20:27.795 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:20:28.320 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:20:28.805 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:20:29.163 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:20:29.190 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:20:29.246 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:20:29.263 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:20:29.282 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:20:29.324 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:20:30.533 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:20:30.679 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:20:31.063 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$Y1ePQQ4Bm3nsjesuWAuon.RFoEXDFaowCVXzukV6hma/wmDP49ubu.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:20:31.088 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.561 seconds (JVM running for 15.171)
01-28 17:20:31.147 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@76d4e1af]
01-28 17:20:31.172 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@5020e5ab
01-28 17:20:31.178 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@4d4bac56
01-28 17:20:31.181 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@656672fb
01-28 17:20:31.183 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:20:31.183 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:20:31.184 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:20:31.184 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:20:31.184 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:20:31.185 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:20:31.185 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:20:31.185 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:20:31.186 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:20:31.342 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:20:31.444 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:20:31.453 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:20:31.454 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:20:31.482 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:20:31.689 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:20:31.803 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:20:31.823 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:20:31.826 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:20:31.840 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:23:55.230 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:23:55.254 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:23:55.727 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:23:55.775 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:23:57.762 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:23:59.216 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:23:59.712 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:23:59.716 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:24:00.405 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 672ms. Found 9 JPA repository interfaces.
01-28 17:24:00.438 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:24:00.442 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:24:00.480 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.482 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.482 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.483 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.484 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.484 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.485 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.486 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.489 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:24:00.489 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 27ms. Found 0 Redis repository interfaces.
01-28 17:24:00.627 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:24:00.878 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:24:01.329 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:24:01.926 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:24:02.080 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:24:02.379 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:24:02.564 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:24:02.795 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:24:02.812 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:24:04.478 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:24:04.490 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:24:05.408 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:24:06.694 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:24:06.702 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@623ded82, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@180e33b0, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@270be080, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@752ffce3}
01-28 17:24:07.171 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:24:07.171 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:24:07.172 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:24:07.172 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:24:07.173 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:24:07.173 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:24:07.174 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:24:07.174 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:24:07.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:24:07.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:24:07.365 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f2169e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@40239b34, org.springframework.security.web.header.HeaderWriterFilter@1c512bb, org.springframework.security.web.authentication.logout.LogoutFilter@7d108063, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3976910, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19d0d1ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48ba37dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6689bf04, org.springframework.security.web.session.SessionManagementFilter@811d8d6, org.springframework.security.web.access.ExceptionTranslationFilter@79f3f34c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26c1244c]
01-28 17:24:07.678 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:24:07.693 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:24:08.116 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:24:08.635 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:24:09.214 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:24:09.637 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:24:09.665 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:24:09.708 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:24:09.727 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:24:09.752 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:24:09.797 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:24:11.005 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:24:11.221 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:24:11.612 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$dR55BxqXtQyRutiwCvCzauTkTE57sYkSTDyTlWm75LSK9Z7SLLVDG.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:24:11.637 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 15.758 seconds (JVM running for 17.59)
01-28 17:24:11.691 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@565bf1bb]
01-28 17:24:11.718 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@19f1f330
01-28 17:24:11.722 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@70f3bf00
01-28 17:24:11.725 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4f0cdd0f
01-28 17:24:11.726 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:24:11.727 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:24:11.727 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:24:11.728 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:24:11.728 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:24:11.728 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:24:11.729 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:24:11.729 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:24:11.730 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:24:11.883 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:24:11.985 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:24:11.990 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:24:11.991 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:24:12.013 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:24:12.213 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:24:12.305 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:24:12.327 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:24:12.330 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:24:12.353 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:25:01.364 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:25:01.383 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:25:01.809 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:25:01.840 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:25:03.165 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:25:04.228 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:25:04.683 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:25:04.685 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:25:05.180 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 480ms. Found 9 JPA repository interfaces.
01-28 17:25:05.203 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:25:05.205 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:25:05.228 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.229 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.231 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.232 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.233 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.234 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.235 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.236 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.237 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:25:05.238 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 17:25:05.359 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:25:05.651 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:25:06.048 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:25:06.599 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:25:06.726 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:25:06.994 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:25:07.156 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:25:07.392 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:25:07.410 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:25:08.609 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:25:08.618 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:25:09.457 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:25:10.709 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:25:10.718 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@78f35e39, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@11896124, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@69fe8c75, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@633cad4d}
01-28 17:25:11.174 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:25:11.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:25:11.176 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:25:11.176 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:25:11.176 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:25:11.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:25:11.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:25:11.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:25:11.178 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:25:11.178 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:25:11.372 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b0d480c, org.springframework.security.web.context.SecurityContextPersistenceFilter@28b7646, org.springframework.security.web.header.HeaderWriterFilter@11771fd6, org.springframework.security.web.authentication.logout.LogoutFilter@27c827ec, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25da1dc9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45f6181a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71ce19ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f2169e9, org.springframework.security.web.session.SessionManagementFilter@57d7c511, org.springframework.security.web.access.ExceptionTranslationFilter@16b2d182, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2dbf8cfc]
01-28 17:25:11.668 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:25:11.682 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:25:12.107 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:25:12.613 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:25:13.169 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:25:13.568 INFO  --- [redisson-netty-4-15] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:25:13.595 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:25:13.641 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:25:13.660 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:25:13.682 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:25:13.730 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:25:14.968 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:25:15.107 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:25:15.504 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$sfCR/OJUjKF/5xjwNuPXGuJL74Xy7lyDfIyrWa1CebWHLAUEQKz9O.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:25:15.529 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.61 seconds (JVM running for 15.406)
01-28 17:25:15.586 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@7e729046]
01-28 17:25:15.615 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@629de8
01-28 17:25:15.623 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@4f0cdd0f
01-28 17:25:15.625 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@21b2579d
01-28 17:25:15.628 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:25:15.629 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:25:15.630 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:25:15.630 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:25:15.631 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:25:15.631 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:25:15.632 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:25:15.632 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:25:15.632 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:25:15.803 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:25:15.921 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:25:15.928 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:25:15.929 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:25:15.950 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:25:16.225 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:25:16.342 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:25:16.359 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:25:16.361 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:25:16.374 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:38:44.944 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:38:44.965 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:38:45.416 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:38:45.461 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:38:46.895 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:38:47.947 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:38:48.351 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:38:48.354 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:38:48.889 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 523ms. Found 9 JPA repository interfaces.
01-28 17:38:48.915 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:38:48.917 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:38:48.948 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.949 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.950 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.951 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.952 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.953 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.954 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.955 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.956 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:38:48.957 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 17:38:49.123 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:38:49.427 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:38:49.825 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:38:50.419 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:38:50.545 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:38:50.803 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:38:50.940 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:38:51.156 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:38:51.175 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:38:52.411 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:38:52.420 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:38:53.304 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:38:54.669 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:38:54.680 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@623ded82, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@180e33b0, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@270be080, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@752ffce3}
01-28 17:38:55.139 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:38:55.139 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:38:55.140 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:38:55.140 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:38:55.141 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:38:55.141 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:38:55.142 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:38:55.142 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:38:55.142 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:38:55.143 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:38:55.372 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@173b24c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e489957, org.springframework.security.web.header.HeaderWriterFilter@10bcbbed, org.springframework.security.web.authentication.logout.LogoutFilter@6efc9d3f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@669469c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d108063, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a88849, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21084a6d, org.springframework.security.web.session.SessionManagementFilter@382608d0, org.springframework.security.web.access.ExceptionTranslationFilter@1c966488, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1aea759d]
01-28 17:38:55.721 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:38:55.737 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:38:56.195 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:38:56.739 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:38:57.264 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:38:57.635 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:38:57.663 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:38:57.706 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:38:57.726 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:38:57.747 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:38:57.792 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:38:59.038 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:38:59.179 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:38:59.580 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$PTkJ4pAc9VqKmT6VBKN/C.CsISRtrNhXCU1XWuUAbHOhq.SAyTfvC.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:38:59.602 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 14.055 seconds (JVM running for 15.826)
01-28 17:38:59.662 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@76d4e1af]
01-28 17:38:59.691 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@19f1f330
01-28 17:38:59.696 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@76980c75
01-28 17:38:59.698 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@75df4b1d
01-28 17:38:59.701 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:38:59.702 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:38:59.702 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:38:59.703 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:38:59.703 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:38:59.704 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:38:59.706 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:38:59.707 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:38:59.708 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:38:59.855 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:38:59.932 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:38:59.938 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:38:59.939 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:38:59.958 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:39:00.146 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:39:00.216 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:39:00.233 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:39:00.236 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:39:00.251 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:39:30.314 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:39:30.386 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:39:31.253 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:39:31.309 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:39:33.119 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:39:34.613 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:39:35.613 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:39:35.616 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:39:36.361 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 729ms. Found 9 JPA repository interfaces.
01-28 17:39:36.393 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:39:36.397 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:39:36.446 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.447 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.449 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.450 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.451 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.452 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.454 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.455 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.456 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:39:36.458 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 40ms. Found 0 Redis repository interfaces.
01-28 17:39:36.618 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:39:36.915 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:39:37.374 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:39:38.068 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:39:38.197 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:39:38.427 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:39:38.581 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:39:38.813 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:39:38.833 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:39:40.099 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:39:40.108 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:39:40.958 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:39:42.253 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:39:42.260 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@2a9e7b4d, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@72406594, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@4e1104f4, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@76219fe}
01-28 17:39:42.709 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:39:42.710 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:39:42.711 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:39:42.711 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:39:42.712 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:39:42.712 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:39:42.712 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:39:42.712 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:39:42.713 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:39:42.713 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:39:42.890 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f39ad3f, org.springframework.security.web.context.SecurityContextPersistenceFilter@30a6984c, org.springframework.security.web.header.HeaderWriterFilter@3b95fce9, org.springframework.security.web.authentication.logout.LogoutFilter@30a4a111, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@781bd9dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c468360, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b272860, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7524125c, org.springframework.security.web.session.SessionManagementFilter@322f84fd, org.springframework.security.web.access.ExceptionTranslationFilter@57d7c511, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@549debdb]
01-28 17:39:43.209 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:39:43.223 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:39:43.732 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:39:44.658 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:39:45.304 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:39:45.835 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:39:45.911 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:39:46.021 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:39:46.063 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:39:46.099 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:39:46.177 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:39:47.638 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:39:47.803 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:39:48.174 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$5r/Z6jnIV6FnziO4ZWEp9.Fi5ImrAA1XI4hjolI04Q9nKS3cNfva..我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:39:48.207 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 16.793 seconds (JVM running for 19.822)
01-28 17:39:48.264 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@63cff421]
01-28 17:39:48.299 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@744f0e0b
01-28 17:39:48.306 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@76ee7301
01-28 17:39:48.308 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@ad585fb
01-28 17:39:48.311 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:39:48.311 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:39:48.312 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:39:48.312 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:39:48.313 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:39:48.313 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:39:48.317 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:39:48.318 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:39:48.319 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:39:48.650 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:39:48.742 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:39:48.746 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:39:48.747 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:39:48.768 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:39:48.963 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:39:49.076 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:39:49.096 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:39:49.099 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:39:49.115 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:41:26.894 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:41:26.923 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:41:27.754 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:41:27.837 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@52af26ee, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6fd83fc1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4f2b503c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@bae7dc0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@209da20d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@e15b7e8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1b2abca6, org.springframework.test.context.event.EventPublishingTestExecutionListener@6392827e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2ed2d9cb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@c88a337]
01-28 17:41:29.697 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:41:30.882 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:41:31.341 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:41:31.344 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:41:32.217 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 861ms. Found 9 JPA repository interfaces.
01-28 17:41:32.286 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:41:32.299 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:41:32.387 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.394 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.396 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.397 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.400 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.405 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.408 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.409 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.410 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:41:32.410 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 63ms. Found 0 Redis repository interfaces.
01-28 17:41:32.580 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:41:32.878 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:41:33.836 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:41:34.650 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:41:34.772 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:41:35.047 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:41:35.209 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:41:35.436 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:41:35.456 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:41:36.678 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:41:36.688 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:41:37.542 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:41:38.760 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:41:38.767 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@180e33b0, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@270be080, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@752ffce3, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@78f35e39}
01-28 17:41:39.201 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:41:39.202 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:41:39.202 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:41:39.203 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:41:39.204 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:41:39.204 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:41:39.205 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:41:39.205 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:41:39.205 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:41:39.206 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:41:39.493 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1edf52e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@57d7c511, org.springframework.security.web.header.HeaderWriterFilter@5bed0ff4, org.springframework.security.web.authentication.logout.LogoutFilter@1e75bef1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f4c3e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45ac973, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24d73c51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ab06829, org.springframework.security.web.session.SessionManagementFilter@1c512bb, org.springframework.security.web.access.ExceptionTranslationFilter@6097f225, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@127320df]
01-28 17:41:39.782 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:41:39.803 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:41:40.257 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:41:40.801 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:41:41.344 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:41:41.764 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:41:41.798 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:41:41.842 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:41:41.861 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:41:41.884 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:41:41.928 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:41:43.091 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:41:43.250 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:41:43.642 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$FN6ASXSXcp3Pu4QqTMsMp.CWAlCJ511Okvq0Mt/0rGyYIArtF2vYO.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:41:43.668 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 15.718 seconds (JVM running for 18.477)
01-28 17:41:43.720 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@23c24c0e]
01-28 17:41:43.748 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@143fe09c
01-28 17:41:43.752 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@70f3bf00
01-28 17:41:43.753 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4f0cdd0f
01-28 17:41:43.757 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:41:43.758 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:41:43.759 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:41:43.759 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:41:43.760 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:41:43.760 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:41:43.761 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:41:43.761 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:41:43.762 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:41:43.928 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:41:44.038 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:41:44.044 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:41:44.045 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:41:44.064 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:41:44.288 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:41:44.372 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:41:44.392 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:41:44.394 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:41:44.415 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:42:10.542 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:42:10.587 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:42:11.012 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:42:11.050 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:42:12.359 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:42:13.383 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:42:13.779 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:42:13.782 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:42:14.354 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 559ms. Found 9 JPA repository interfaces.
01-28 17:42:14.379 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:42:14.381 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:42:14.405 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.407 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.408 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.409 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.409 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.410 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.411 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.412 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.413 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:14.413 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
01-28 17:42:14.527 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:42:14.811 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:42:15.195 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:42:15.754 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:42:15.870 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:42:16.115 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:42:16.249 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:42:16.459 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:42:16.477 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:42:17.714 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:42:17.723 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:42:18.559 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:42:19.790 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:42:19.798 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@78f35e39, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@11896124, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@69fe8c75, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@633cad4d}
01-28 17:42:20.174 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:42:20.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:42:20.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:42:20.175 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:42:20.176 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:42:20.176 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:42:20.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:42:20.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:42:20.177 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:42:20.178 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:42:20.341 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c3114ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b827796, org.springframework.security.web.header.HeaderWriterFilter@47e70f54, org.springframework.security.web.authentication.logout.LogoutFilter@4172c967, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7524125c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4351d055, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@317fa5dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642d971f, org.springframework.security.web.session.SessionManagementFilter@7841c990, org.springframework.security.web.access.ExceptionTranslationFilter@19d0d1ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ead245]
01-28 17:42:20.645 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:42:20.658 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:42:21.082 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:42:21.601 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:42:22.072 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:42:22.430 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:42:22.457 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:42:22.499 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:42:22.518 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:42:22.537 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:42:22.585 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:42:23.852 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:42:23.992 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:42:24.384 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$v/x6bR6Gi5/w/ezjHDGAkOYdXaQZ9CgPBaxK5Z/.a.xvuhdgQOwNO.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:42:24.407 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.263 seconds (JVM running for 14.848)
01-28 17:42:24.469 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@537fb7bf]
01-28 17:42:24.501 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@161c9468
01-28 17:42:24.505 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@656672fb
01-28 17:42:24.506 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@430db481
01-28 17:42:24.508 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:42:24.508 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:42:24.508 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:42:24.508 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:42:24.508 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:42:24.509 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:42:24.509 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:42:24.510 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:42:24.510 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:42:24.660 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:42:24.771 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:42:24.776 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:42:24.777 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:42:24.800 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:42:24.966 WARN  --- [main] [HqlParser]:294 org.hibernate.hql.internal.ast.HqlParser >>> HHH000203: processEqualityExpression() : No expression to process!
01-28 17:42:25.006 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:42:25.085 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:42:25.104 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:42:25.107 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:42:25.123 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:42:37.175 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:42:37.198 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:42:37.651 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:42:37.691 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:42:39.076 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:42:40.250 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:42:40.658 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:42:40.661 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:42:41.112 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 438ms. Found 9 JPA repository interfaces.
01-28 17:42:41.138 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:42:41.140 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:42:41.241 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.242 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.243 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.244 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.245 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.246 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.247 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.247 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.248 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:42:41.249 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
01-28 17:42:41.381 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:42:41.648 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:42:42.024 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:42:42.551 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:42:42.658 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:42:42.924 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:42:43.087 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:42:43.329 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:42:43.347 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:42:44.558 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:42:44.566 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:42:45.534 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:42:46.777 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:42:46.785 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@5f14590c, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@46051269, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@67baa05, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@5b5a89d1}
01-28 17:42:47.210 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:42:47.211 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:42:47.212 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:42:47.212 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:42:47.212 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:42:47.213 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:42:47.213 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:42:47.213 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:42:47.213 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:42:47.213 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:42:47.380 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@781bd9dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@78805df3, org.springframework.security.web.header.HeaderWriterFilter@28b7646, org.springframework.security.web.authentication.logout.LogoutFilter@36ce0bc2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6689bf04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@322f84fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c468360, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cc42abe, org.springframework.security.web.session.SessionManagementFilter@7e0941cc, org.springframework.security.web.access.ExceptionTranslationFilter@7e4dddee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19b0a9f2]
01-28 17:42:47.776 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:42:47.792 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:42:48.355 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:42:48.891 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:42:49.438 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:42:49.802 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:42:49.833 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:42:49.874 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:42:49.894 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:42:49.914 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:42:49.966 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:42:51.182 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:42:51.331 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:42:51.712 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$E.Xnk4Ynf7GqwN3bHMu6Heqw5C8Q4/MkANqy.B8IZb6slZwRrEk/2.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:42:51.733 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.952 seconds (JVM running for 15.604)
01-28 17:42:51.782 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@428440f2]
01-28 17:42:51.811 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@5b430541
01-28 17:42:51.819 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@78324e97
01-28 17:42:51.822 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4d1b4fa1
01-28 17:42:51.824 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:42:51.824 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:42:51.825 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:42:51.825 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:42:51.825 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:42:51.825 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:42:51.826 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:42:51.826 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:42:51.827 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:42:51.969 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:42:52.064 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:42:52.071 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:42:52.072 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:42:52.102 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:42:52.294 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:42:52.377 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:42:52.394 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:42:52.397 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:42:52.410 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:44:25.859 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:44:25.880 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:44:26.308 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:44:26.334 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:44:27.529 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:44:28.652 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:44:29.128 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:44:29.130 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:44:29.575 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 433ms. Found 9 JPA repository interfaces.
01-28 17:44:29.598 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:44:29.599 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:44:29.685 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.686 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.687 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.688 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.689 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.690 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.692 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.693 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.694 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:44:29.695 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 25ms. Found 0 Redis repository interfaces.
01-28 17:44:29.817 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:44:30.091 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:44:30.484 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:44:31.023 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:44:31.131 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:44:31.387 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:44:31.537 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:44:31.776 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:44:31.796 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:44:32.936 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:44:32.944 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:44:33.952 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:44:35.143 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:44:35.150 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@4e826fd4, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@5f14590c, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@46051269, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@67baa05}
01-28 17:44:35.875 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:44:35.875 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:44:35.875 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:44:35.876 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:44:35.876 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:44:35.876 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:44:35.877 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:44:35.877 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:44:35.877 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:44:35.878 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:44:36.159 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@781bd9dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@78805df3, org.springframework.security.web.header.HeaderWriterFilter@28b7646, org.springframework.security.web.authentication.logout.LogoutFilter@36ce0bc2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6689bf04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@322f84fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c468360, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cc42abe, org.springframework.security.web.session.SessionManagementFilter@7e0941cc, org.springframework.security.web.access.ExceptionTranslationFilter@7e4dddee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19b0a9f2]
01-28 17:44:36.650 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:44:36.679 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:44:37.325 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:44:37.971 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:44:38.917 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:44:39.530 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:44:39.614 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:44:39.715 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:44:39.747 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:44:39.787 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:44:39.862 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:44:41.900 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:44:42.117 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:44:42.656 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$PZKHJbgJLv.TmsAGDBd4aOmM.sNT1YCA/afb9ciNG6p3QjEBh7fDS.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:44:42.700 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 16.274 seconds (JVM running for 18.131)
01-28 17:44:42.775 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@27e42fe8]
01-28 17:44:42.810 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@544e6b
01-28 17:44:42.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@78324e97
01-28 17:44:42.818 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4d1b4fa1
01-28 17:44:42.819 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:44:42.820 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:44:42.820 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:44:42.820 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:44:42.821 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:44:42.821 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:44:42.822 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:44:42.823 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:44:42.823 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:44:43.029 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:44:43.138 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:44:43.146 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:44:43.148 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:44:43.184 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:44:43.432 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:44:43.498 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:44:43.517 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:44:43.519 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:44:43.538 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:45:03.686 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:45:03.730 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:45:04.145 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:45:04.184 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:45:05.607 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:45:06.692 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:45:07.124 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:45:07.128 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:45:07.639 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 499ms. Found 9 JPA repository interfaces.
01-28 17:45:07.666 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:45:07.668 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:45:07.697 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.698 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.699 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.700 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.701 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.702 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.703 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.703 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.704 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:45:07.704 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 17:45:07.822 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:45:08.111 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:45:08.491 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:45:09.039 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:45:09.169 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:45:09.451 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:45:09.639 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:45:09.852 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:45:09.871 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:45:11.111 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:45:11.119 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:45:11.959 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:45:13.237 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:45:13.245 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@180e33b0, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@270be080, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@752ffce3, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@78f35e39}
01-28 17:45:13.838 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:45:13.840 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:45:13.841 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:45:13.842 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:45:13.843 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:45:13.844 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:45:13.847 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:45:13.847 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:45:13.848 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:45:13.848 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:45:14.160 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f071d0c, org.springframework.security.web.context.SecurityContextPersistenceFilter@71ce19ee, org.springframework.security.web.header.HeaderWriterFilter@4e553d60, org.springframework.security.web.authentication.logout.LogoutFilter@477906cf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1aea759d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10bcbbed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e75bef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@138d978e, org.springframework.security.web.session.SessionManagementFilter@24d73c51, org.springframework.security.web.access.ExceptionTranslationFilter@2b9bbaa8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25890ce3]
01-28 17:45:14.645 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:45:14.672 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:45:15.623 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:45:16.467 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:45:17.254 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:45:17.650 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:45:17.679 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:45:17.755 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:45:17.793 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:45:17.831 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:45:17.920 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:45:20.148 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:45:20.495 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:45:21.063 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$45zBqlxZfxm1KOaXrurm1OQWOCiKxwyvBY4jAtwKYv9HHNyTteKE2.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:45:21.089 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 16.806 seconds (JVM running for 18.675)
01-28 17:45:21.147 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@27e42fe8]
01-28 17:45:21.183 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@143fe09c
01-28 17:45:21.191 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@29b0c169
01-28 17:45:21.194 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@5f2ad3d5
01-28 17:45:21.196 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:45:21.197 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:45:21.197 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:45:21.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:45:21.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:45:21.199 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:45:21.200 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:45:21.200 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:45:21.201 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:45:21.394 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:45:21.490 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:45:21.495 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:45:21.496 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:45:21.517 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:45:21.735 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:45:21.801 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:45:21.816 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:45:21.818 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:45:21.829 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:46:03.493 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:46:03.512 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:46:03.982 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:46:04.011 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:46:05.330 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:46:06.372 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:46:06.780 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:46:06.782 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:46:07.278 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 482ms. Found 9 JPA repository interfaces.
01-28 17:46:07.302 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:46:07.304 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:46:07.330 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.331 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.332 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.333 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.334 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.335 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.336 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.337 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.338 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:07.338 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 17:46:07.452 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:46:07.738 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:46:08.130 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:46:08.675 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:46:08.789 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:46:09.016 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:46:09.174 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:46:09.376 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:46:09.394 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:46:10.671 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:46:10.681 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:46:11.504 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:46:12.769 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:46:12.779 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@78f35e39, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@11896124, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@69fe8c75, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@633cad4d}
01-28 17:46:13.197 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:46:13.198 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:46:13.198 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:46:13.199 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:46:13.199 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:46:13.199 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:46:13.200 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:46:13.200 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:46:13.200 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:46:13.200 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:46:13.384 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35630ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e75bef1, org.springframework.security.web.header.HeaderWriterFilter@322f84fd, org.springframework.security.web.authentication.logout.LogoutFilter@374bf34b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5feaafb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b827796, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c04ec8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e80de85, org.springframework.security.web.session.SessionManagementFilter@45302e66, org.springframework.security.web.access.ExceptionTranslationFilter@40239b34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6689bf04]
01-28 17:46:13.686 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:46:13.704 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:46:14.134 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:46:14.646 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:46:15.196 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:46:15.596 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:46:15.628 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:46:15.675 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:46:15.695 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:46:15.716 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:46:15.763 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:46:17.044 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:46:17.189 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:46:17.566 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$t3x0NKBmoC0CrsZ6rRnLZOQPlACU6vKmUNFW9yO4BN2pcuITb0H3O.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:46:17.589 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.491 seconds (JVM running for 15.299)
01-28 17:46:17.644 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@651bec9a]
01-28 17:46:17.672 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@629de8
01-28 17:46:17.677 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@6b170692
01-28 17:46:17.679 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@3696d12d
01-28 17:46:17.681 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:46:17.683 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:46:17.684 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:46:17.684 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:46:17.685 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:46:17.685 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:46:17.686 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:46:17.687 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:46:17.688 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:46:17.835 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:46:17.938 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:46:17.942 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:46:17.944 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:46:17.969 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:46:18.184 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:46:18.267 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:46:18.286 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:46:18.289 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:46:18.305 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:46:47.367 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:46:47.388 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:46:47.799 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:46:47.826 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:46:49.227 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:46:50.204 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:46:50.655 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:46:50.658 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:46:51.168 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 496ms. Found 9 JPA repository interfaces.
01-28 17:46:51.190 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:46:51.192 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:46:51.217 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.218 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.219 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.220 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.221 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.222 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.223 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.224 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.224 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:46:51.225 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 17:46:51.348 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:46:51.627 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:46:52.012 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:46:52.557 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:46:52.675 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:46:52.921 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:46:53.081 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:46:53.295 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:46:53.312 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:46:54.561 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:46:54.570 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:46:55.442 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:46:56.718 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:46:56.725 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@2fe2fcc2, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@69926b6e, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@7ea8224b, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@5a010eec}
01-28 17:46:57.181 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:46:57.182 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:46:57.182 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:46:57.183 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:46:57.183 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:46:57.183 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:46:57.184 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:46:57.184 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:46:57.184 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:46:57.184 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:46:57.350 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@549debdb, org.springframework.security.web.context.SecurityContextPersistenceFilter@811d8d6, org.springframework.security.web.header.HeaderWriterFilter@17a5ae7b, org.springframework.security.web.authentication.logout.LogoutFilter@169d5567, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19b0a9f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28b7646, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b95fce9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1edf52e6, org.springframework.security.web.session.SessionManagementFilter@4d142b53, org.springframework.security.web.access.ExceptionTranslationFilter@5507584d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@579ee82]
01-28 17:46:57.674 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:46:57.686 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:46:58.129 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:46:58.599 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:46:59.130 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:46:59.563 INFO  --- [redisson-netty-4-13] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:46:59.600 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:46:59.657 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:46:59.677 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:46:59.699 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:46:59.744 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:47:00.975 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:47:01.211 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:47:01.598 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$9VXXIuphud1Axr6OeMvTLeE1zx8etrnt/Bpe/FgLxThfp91Y4VNDO.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:47:01.620 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.709 seconds (JVM running for 15.467)
01-28 17:47:01.675 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@7ab20a7]
01-28 17:47:01.703 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@2ffcdc9b
01-28 17:47:01.710 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@6a261998
01-28 17:47:01.713 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@15bcecf9
01-28 17:47:01.714 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:47:01.715 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:47:01.715 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:47:01.716 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:47:01.716 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:47:01.716 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:47:01.717 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:47:01.717 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:47:01.718 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:47:01.865 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:47:01.978 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:47:01.984 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:47:01.985 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:47:02.011 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:47:02.238 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:47:02.319 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:47:02.338 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:47:02.340 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:47:02.367 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:47:31.522 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:47:31.541 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:47:31.989 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:47:32.029 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:47:33.422 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:47:34.456 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:47:34.885 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:47:34.887 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:47:35.386 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 484ms. Found 9 JPA repository interfaces.
01-28 17:47:35.411 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:47:35.412 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:47:35.437 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.438 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.439 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.440 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.441 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.442 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.444 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.444 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.446 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:47:35.446 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 23ms. Found 0 Redis repository interfaces.
01-28 17:47:35.563 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:47:35.846 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:47:36.227 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:47:36.766 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:47:36.897 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:47:37.132 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:47:37.292 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:47:37.506 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:47:37.524 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:47:38.704 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:47:38.713 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:47:39.575 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:47:40.827 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:47:40.835 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@752ffce3, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@78f35e39, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@11896124, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@69fe8c75}
01-28 17:47:41.294 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:47:41.295 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:47:41.295 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:47:41.296 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:47:41.296 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:47:41.296 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:47:41.297 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:47:41.297 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:47:41.298 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:47:41.298 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:47:41.476 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f2169e9, org.springframework.security.web.context.SecurityContextPersistenceFilter@40239b34, org.springframework.security.web.header.HeaderWriterFilter@1c512bb, org.springframework.security.web.authentication.logout.LogoutFilter@7d108063, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3976910, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19d0d1ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48ba37dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6689bf04, org.springframework.security.web.session.SessionManagementFilter@811d8d6, org.springframework.security.web.access.ExceptionTranslationFilter@79f3f34c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26c1244c]
01-28 17:47:41.770 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:47:41.782 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:47:42.217 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:47:42.716 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:47:43.269 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:47:43.673 INFO  --- [redisson-netty-4-15] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:47:43.698 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:47:43.740 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:47:43.759 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:47:43.780 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:47:43.824 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:47:44.993 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:47:45.192 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:47:45.585 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$mDEk2RcfeTYieVSJf.RDUO6lbNewCEO4zi1RVL./dtryhzcL8i5BG.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:47:45.608 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.489 seconds (JVM running for 15.22)
01-28 17:47:45.661 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@16021f6e]
01-28 17:47:45.689 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@161c9468
01-28 17:47:45.695 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@22ea6051
01-28 17:47:45.698 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@87f1201
01-28 17:47:45.699 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:47:45.700 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:47:45.700 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:47:45.701 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:47:45.701 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:47:45.701 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:47:45.702 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:47:45.703 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:47:45.703 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:47:45.849 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:47:45.969 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:47:45.976 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:47:45.977 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:47:46.002 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:47:46.190 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:47:46.264 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:47:46.281 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:47:46.283 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:47:46.298 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:49:01.563 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:49:01.579 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:49:02.023 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:49:02.053 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:49:03.521 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:49:04.536 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:49:04.958 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:49:04.961 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:49:05.475 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 500ms. Found 9 JPA repository interfaces.
01-28 17:49:05.500 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:49:05.502 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:49:05.529 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.530 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.532 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.533 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.533 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.534 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.535 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.537 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.538 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:49:05.539 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 24ms. Found 0 Redis repository interfaces.
01-28 17:49:05.663 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:49:05.940 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:49:06.322 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:49:06.860 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:49:06.968 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:49:07.222 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:49:07.378 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:49:07.625 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:49:07.645 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:49:08.885 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:49:08.896 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:49:09.712 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:49:10.896 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:49:10.904 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@5a010eec, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@623ded82, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@180e33b0, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@270be080}
01-28 17:49:11.320 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:49:11.322 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:49:11.323 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:49:11.323 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:49:11.324 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:49:11.324 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:49:11.325 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:49:11.325 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:49:11.325 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:49:11.326 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:49:11.616 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19bbb216, org.springframework.security.web.context.SecurityContextPersistenceFilter@3bf52f8f, org.springframework.security.web.header.HeaderWriterFilter@92de794, org.springframework.security.web.authentication.logout.LogoutFilter@7841c990, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1248f83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dcc7696, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5114c8a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cfac0bd, org.springframework.security.web.session.SessionManagementFilter@11771fd6, org.springframework.security.web.access.ExceptionTranslationFilter@74a991cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f6e3b67]
01-28 17:49:11.984 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:49:11.998 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:49:12.463 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:49:12.951 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:49:13.503 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:49:13.909 INFO  --- [redisson-netty-4-15] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:49:13.937 INFO  --- [redisson-netty-4-13] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:49:13.985 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:49:14.006 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:49:14.029 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:49:14.077 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:49:15.310 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:49:15.455 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:49:15.873 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$mxu1Pdb1DKmtnxjYOLFYwuRKZmFMSQWkWdpFhJSYCCtdmJX5kyGGe.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:49:15.897 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.747 seconds (JVM running for 15.525)
01-28 17:49:15.954 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@747b8f5c]
01-28 17:49:15.986 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@5020e5ab
01-28 17:49:15.991 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@6a261998
01-28 17:49:15.992 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@15bcecf9
01-28 17:49:15.994 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:49:15.994 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:49:15.995 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:49:15.995 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:49:15.995 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:49:15.995 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:49:15.996 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:49:15.996 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:49:15.997 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:49:16.151 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:49:16.244 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:49:16.250 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:49:16.252 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:49:16.273 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:49:16.483 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:49:16.545 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:49:16.561 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:49:16.563 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:49:16.576 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:55:28.737 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:55:28.757 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:55:29.200 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:55:29.240 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:55:30.599 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:55:31.794 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:55:32.259 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:55:32.263 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:55:32.956 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 676ms. Found 9 JPA repository interfaces.
01-28 17:55:32.988 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:55:32.990 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:55:33.029 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.030 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.031 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.032 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.033 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.034 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.035 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.036 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.037 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:55:33.037 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 26ms. Found 0 Redis repository interfaces.
01-28 17:55:33.159 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:55:33.488 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:55:33.966 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:55:34.684 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:55:34.857 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:55:35.133 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:55:35.292 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:55:35.564 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:55:35.589 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:55:37.021 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:55:37.032 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:55:37.964 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:55:39.445 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:55:39.453 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@5400db7e, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@a84b6de, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@76eee0b1, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@2119b989}
01-28 17:55:39.936 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:55:39.936 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:55:39.937 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:55:39.937 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:55:39.938 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:55:39.938 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:55:39.938 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:55:39.938 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:55:39.939 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:55:39.939 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:55:40.125 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64cec4d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@37a14aa1, org.springframework.security.web.header.HeaderWriterFilter@294bb6ae, org.springframework.security.web.authentication.logout.LogoutFilter@4a7ac98b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24ac87a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@362fd4e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3113595e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e069ca9, org.springframework.security.web.session.SessionManagementFilter@4b518645, org.springframework.security.web.access.ExceptionTranslationFilter@4004bfba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e0b1f03]
01-28 17:55:40.459 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:55:40.478 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:55:41.000 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:55:41.631 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:55:42.215 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:55:42.809 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:55:42.834 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:55:42.884 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:55:42.901 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:55:42.922 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:55:42.975 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:55:44.439 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:55:44.596 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:55:45.034 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$iXCWpnuy4yiZmgXIn6A9zuGU3rPBmzGdtZhZZWYtewkfetNHmFhDe.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:55:45.058 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 15.714 seconds (JVM running for 18.003)
01-28 17:55:45.113 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@62b3871]
01-28 17:55:45.149 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@c478e4e
01-28 17:55:45.155 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@2748bd6c
01-28 17:55:45.158 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@613a608e
01-28 17:55:45.159 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:55:45.160 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:55:45.160 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:55:45.160 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:55:45.161 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:55:45.161 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:55:45.161 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:55:45.162 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:55:45.162 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:55:45.333 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:55:45.415 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:55:45.420 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:55:45.421 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:55:45.438 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:55:45.697 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:55:45.761 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:55:45.777 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:55:45.780 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:55:45.798 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 17:56:13.359 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 17:56:13.393 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 17:56:13.956 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 17:56:13.997 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 17:56:15.448 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 17:56:16.528 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 17:56:16.995 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:56:16.999 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 17:56:17.564 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 549ms. Found 9 JPA repository interfaces.
01-28 17:56:17.587 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 17:56:17.589 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 17:56:17.618 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.619 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.620 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.621 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.622 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.623 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.624 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.625 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.626 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 17:56:17.626 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 17:56:17.734 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 17:56:18.027 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 17:56:18.666 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 17:56:19.287 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 17:56:19.393 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 17:56:19.627 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 17:56:19.780 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 17:56:20.150 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 17:56:20.175 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 17:56:21.917 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 17:56:21.933 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 17:56:23.272 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 17:56:25.040 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 17:56:25.054 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@1018f702, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@5400db7e, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@a84b6de, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@76eee0b1}
01-28 17:56:25.864 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 17:56:25.865 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 17:56:25.865 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 17:56:25.866 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 17:56:25.868 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 17:56:25.868 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 17:56:25.869 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 17:56:25.870 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 17:56:25.870 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 17:56:25.871 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 17:56:26.310 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33622388, org.springframework.security.web.context.SecurityContextPersistenceFilter@317fa5dd, org.springframework.security.web.header.HeaderWriterFilter@7d108063, org.springframework.security.web.authentication.logout.LogoutFilter@b666366, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4dd425dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c19bb2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47400608, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e03bb74, org.springframework.security.web.session.SessionManagementFilter@236206f8, org.springframework.security.web.access.ExceptionTranslationFilter@9a16af1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@669469c9]
01-28 17:56:26.812 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:56:26.837 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 17:56:27.451 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 17:56:28.164 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:56:28.766 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 17:56:29.403 INFO  --- [redisson-netty-4-13] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 17:56:29.434 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 17:56:29.488 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 17:56:29.523 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 17:56:29.559 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 17:56:29.646 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 17:56:31.041 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 17:56:31.249 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 17:56:31.722 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$9Re7XOyYv3iK29dcX3OsgepmR7TaCpDuJ98moTbUO8QF6nsvRNpJK.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 17:56:31.747 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 17.667 seconds (JVM running for 19.788)
01-28 17:56:31.815 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@1f8e1096]
01-28 17:56:31.844 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@4d90d91f
01-28 17:56:31.851 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@67372d20
01-28 17:56:31.853 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@6130a6f5
01-28 17:56:31.854 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 17:56:31.855 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 17:56:31.855 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 17:56:31.855 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 17:56:31.856 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 17:56:31.856 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 17:56:31.857 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 17:56:31.858 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 17:56:31.858 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 17:56:32.050 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 17:56:32.147 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 17:56:32.152 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 17:56:32.153 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 17:56:32.177 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 17:56:32.444 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 17:56:32.528 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 17:56:32.546 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 17:56:32.549 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 17:56:32.569 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 18:02:28.273 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 18:02:28.291 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 18:02:28.755 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 18:02:28.798 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 18:02:30.240 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 18:02:31.489 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 18:02:31.951 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:02:31.956 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 18:02:32.686 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 714ms. Found 9 JPA repository interfaces.
01-28 18:02:32.717 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:02:32.719 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 18:02:32.752 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.753 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.754 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.754 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.755 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.756 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.757 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.757 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.758 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:02:32.759 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
01-28 18:02:32.876 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 18:02:33.182 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 18:02:33.650 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 18:02:34.322 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 18:02:34.464 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 18:02:34.804 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 18:02:34.992 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 18:02:35.257 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 18:02:35.284 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 18:02:36.780 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 18:02:36.791 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 18:02:37.693 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 18:02:39.213 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 18:02:39.222 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@270be080, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@752ffce3, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@78f35e39, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@11896124}
01-28 18:02:39.673 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 18:02:39.673 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 18:02:39.674 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 18:02:39.674 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 18:02:39.674 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 18:02:39.675 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 18:02:39.675 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 18:02:39.675 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 18:02:39.676 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 18:02:39.676 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 18:02:39.857 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21084a6d, org.springframework.security.web.context.SecurityContextPersistenceFilter@68b3de47, org.springframework.security.web.header.HeaderWriterFilter@9a16af1, org.springframework.security.web.authentication.logout.LogoutFilter@294bb6ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7f39ad3f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b272860, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36ce0bc2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3114ea, org.springframework.security.web.session.SessionManagementFilter@3c468360, org.springframework.security.web.access.ExceptionTranslationFilter@45f6181a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2eb03908]
01-28 18:02:40.166 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:02:40.184 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:02:40.650 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 18:02:41.214 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:02:41.737 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 18:02:42.161 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 18:02:42.189 INFO  --- [redisson-netty-4-15] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 18:02:42.234 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 18:02:42.252 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 18:02:42.276 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 18:02:42.328 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 18:02:43.631 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 18:02:43.776 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 18:02:44.239 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$ROXApzPun7d8ztDAYcXLTe3uuofOx6UtPsFUj6hpFo0xJwOXKvAHq.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 18:02:44.268 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 15.371 seconds (JVM running for 17.26)
01-28 18:02:44.330 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@40d0bff1]
01-28 18:02:44.363 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@143fe09c
01-28 18:02:44.368 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@3696d12d
01-28 18:02:44.369 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@43120a77
01-28 18:02:44.371 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 18:02:44.371 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 18:02:44.372 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 18:02:44.372 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 18:02:44.373 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 18:02:44.373 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 18:02:44.374 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 18:02:44.374 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 18:02:44.375 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 18:02:44.568 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 18:02:44.667 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 18:02:44.672 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 18:02:44.673 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 18:02:44.693 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 18:02:44.917 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:02:44.992 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 18:02:45.010 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 18:02:45.012 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 18:02:45.033 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 18:04:32.536 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 18:04:32.568 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 18:04:32.994 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 18:04:33.028 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 18:04:34.364 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 18:04:35.401 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 18:04:35.809 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:04:35.812 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 18:04:36.392 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 567ms. Found 9 JPA repository interfaces.
01-28 18:04:36.415 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:04:36.417 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 18:04:36.443 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.444 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.445 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.446 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.447 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.448 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.449 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.450 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.451 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:04:36.451 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 18:04:36.565 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 18:04:36.856 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 18:04:37.245 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 18:04:37.797 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 18:04:37.914 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 18:04:38.171 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 18:04:38.306 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 18:04:38.517 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 18:04:38.535 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 18:04:39.773 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 18:04:39.783 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 18:04:40.624 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 18:04:41.873 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 18:04:41.879 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@78f35e39, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@11896124, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@69fe8c75, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@633cad4d}
01-28 18:04:42.250 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 18:04:42.251 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 18:04:42.251 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 18:04:42.252 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 18:04:42.252 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 18:04:42.252 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 18:04:42.253 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 18:04:42.253 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 18:04:42.253 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 18:04:42.253 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 18:04:42.418 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c3114ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b827796, org.springframework.security.web.header.HeaderWriterFilter@47e70f54, org.springframework.security.web.authentication.logout.LogoutFilter@4172c967, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7524125c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4351d055, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@317fa5dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642d971f, org.springframework.security.web.session.SessionManagementFilter@7841c990, org.springframework.security.web.access.ExceptionTranslationFilter@19d0d1ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ead245]
01-28 18:04:42.717 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:04:42.730 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:04:43.167 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 18:04:43.724 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:04:44.238 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 18:04:44.608 INFO  --- [redisson-netty-4-21] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 18:04:44.648 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 18:04:44.711 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 18:04:44.730 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 18:04:44.751 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 18:04:44.798 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 18:04:46.131 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 18:04:46.278 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 18:04:46.686 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$FjqavRShRoVeKEFZwd93pORy4cz39eNvwwW1qzPdLSkXGnawy/Ntm.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 18:04:46.712 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.59 seconds (JVM running for 15.124)
01-28 18:04:46.773 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@40d0bff1]
01-28 18:04:46.798 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@161c9468
01-28 18:04:46.804 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@656672fb
01-28 18:04:46.806 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@430db481
01-28 18:04:46.807 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 18:04:46.808 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 18:04:46.808 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 18:04:46.808 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 18:04:46.809 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 18:04:46.809 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 18:04:46.810 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 18:04:46.810 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 18:04:46.810 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 18:04:46.978 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 18:04:47.051 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 18:04:47.056 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 18:04:47.057 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 18:04:47.078 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 18:04:47.295 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:04:47.382 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 18:04:47.405 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 18:04:47.408 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 18:04:47.428 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 18:05:58.995 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 18:05:59.018 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 18:05:59.453 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 18:05:59.492 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 18:06:00.902 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 18:06:01.940 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 18:06:02.341 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:06:02.344 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 18:06:02.869 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 512ms. Found 9 JPA repository interfaces.
01-28 18:06:02.894 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:06:02.896 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 18:06:02.924 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.925 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.926 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.927 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.928 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.929 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.930 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.931 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.932 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:02.933 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 24ms. Found 0 Redis repository interfaces.
01-28 18:06:03.049 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 18:06:03.321 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 18:06:03.712 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 18:06:04.270 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 18:06:04.394 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 18:06:04.646 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 18:06:04.777 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 18:06:04.989 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 18:06:05.008 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 18:06:06.198 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 18:06:06.207 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 18:06:07.062 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 18:06:08.336 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 18:06:08.345 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@180e33b0, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@270be080, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@752ffce3, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@78f35e39}
01-28 18:06:08.762 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 18:06:08.763 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 18:06:08.764 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 18:06:08.764 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 18:06:08.765 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 18:06:08.765 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 18:06:08.766 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 18:06:08.766 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 18:06:08.767 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 18:06:08.767 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 18:06:08.932 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35630ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e75bef1, org.springframework.security.web.header.HeaderWriterFilter@322f84fd, org.springframework.security.web.authentication.logout.LogoutFilter@374bf34b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5feaafb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b827796, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c04ec8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e80de85, org.springframework.security.web.session.SessionManagementFilter@45302e66, org.springframework.security.web.access.ExceptionTranslationFilter@40239b34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6689bf04]
01-28 18:06:09.232 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:06:09.246 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:06:09.691 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 18:06:10.255 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:06:10.756 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 18:06:11.154 INFO  --- [redisson-netty-4-22] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 18:06:11.185 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 18:06:11.230 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 18:06:11.247 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 18:06:11.267 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 18:06:11.312 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 18:06:12.544 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 18:06:12.688 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 18:06:13.074 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$vC91TxbPx9UOn/UgfSUd5ewVSpeRnL0PMEPt9.SA8qAo5aLsHqbYS.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 18:06:13.097 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.509 seconds (JVM running for 15.121)
01-28 18:06:13.158 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@7b06dce0]
01-28 18:06:13.185 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@19f1f330
01-28 18:06:13.193 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@6b170692
01-28 18:06:13.194 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@3696d12d
01-28 18:06:13.196 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 18:06:13.196 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 18:06:13.196 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 18:06:13.197 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 18:06:13.197 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 18:06:13.197 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 18:06:13.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 18:06:13.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 18:06:13.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 18:06:13.351 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 18:06:13.454 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 18:06:13.459 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 18:06:13.460 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 18:06:13.486 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 18:06:13.676 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:06:13.765 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 18:06:13.785 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 18:06:13.788 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 18:06:13.801 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 18:06:42.316 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 18:06:42.338 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 18:06:42.819 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 18:06:42.852 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 18:06:44.640 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 18:06:45.735 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 18:06:46.221 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:06:46.224 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 18:06:46.791 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 556ms. Found 9 JPA repository interfaces.
01-28 18:06:46.815 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:06:46.817 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 18:06:46.844 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.845 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.847 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.848 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.848 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.849 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.850 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.851 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.852 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:06:46.852 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 18:06:46.966 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 18:06:47.249 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 18:06:47.852 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 18:06:48.719 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 18:06:48.877 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 18:06:49.219 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 18:06:49.402 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 18:06:49.745 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 18:06:49.781 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 18:06:51.371 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 18:06:51.380 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 18:06:52.249 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 18:06:54.123 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 18:06:54.134 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@69fe8c75, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@633cad4d, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@15c3585, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@5b86f4cb}
01-28 18:06:54.687 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 18:06:54.687 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 18:06:54.688 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 18:06:54.688 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 18:06:54.689 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 18:06:54.689 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 18:06:54.690 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 18:06:54.690 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 18:06:54.690 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 18:06:54.691 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 18:06:54.890 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65b1693c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e7cb01a, org.springframework.security.web.header.HeaderWriterFilter@1e75bef1, org.springframework.security.web.authentication.logout.LogoutFilter@6e466fdf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@173b24c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a88849, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@712594f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9a74a93, org.springframework.security.web.session.SessionManagementFilter@7d108063, org.springframework.security.web.access.ExceptionTranslationFilter@65a8c306, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f071d0c]
01-28 18:06:55.295 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:06:55.311 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:06:55.744 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 18:06:56.379 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:06:56.919 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 18:06:57.320 INFO  --- [redisson-netty-4-22] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 18:06:57.356 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 18:06:57.409 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 18:06:57.427 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 18:06:57.449 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 18:06:57.492 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 18:06:58.732 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 18:06:58.864 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 18:06:59.250 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$gYwDflIESXfwwT.YVlMDg.lRMay1s10rrdBYJj9vM5fhjNzWeRzI2.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 18:06:59.272 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 16.315 seconds (JVM running for 18.365)
01-28 18:06:59.327 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@6d810e94]
01-28 18:06:59.352 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@6b32b678
01-28 18:06:59.359 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@67372d20
01-28 18:06:59.361 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@6130a6f5
01-28 18:06:59.362 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 18:06:59.363 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 18:06:59.363 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 18:06:59.363 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 18:06:59.363 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 18:06:59.364 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 18:06:59.364 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 18:06:59.365 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 18:06:59.365 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 18:06:59.512 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 18:06:59.610 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 18:06:59.618 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 18:06:59.619 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 18:06:59.641 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 18:06:59.836 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:06:59.943 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 18:06:59.971 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 18:06:59.974 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 18:07:00.000 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 18:07:13.474 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 18:07:13.494 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 18:07:13.981 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 18:07:14.026 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 18:07:15.407 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 18:07:16.468 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 18:07:16.890 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:07:16.892 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 18:07:17.409 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 504ms. Found 9 JPA repository interfaces.
01-28 18:07:17.431 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 18:07:17.433 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 18:07:17.460 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.461 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.462 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.462 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.463 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.464 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.465 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.466 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.467 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 18:07:17.468 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 18:07:17.591 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 18:07:17.875 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 18:07:18.262 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 18:07:18.784 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 18:07:18.882 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 18:07:19.158 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 18:07:19.326 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 18:07:19.566 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 18:07:19.586 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 18:07:20.823 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 18:07:20.832 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 18:07:21.696 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 18:07:22.913 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 18:07:22.922 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@623ded82, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@180e33b0, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@270be080, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@752ffce3}
01-28 18:07:23.370 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 18:07:23.371 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 18:07:23.371 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 18:07:23.372 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 18:07:23.372 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 18:07:23.373 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 18:07:23.374 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 18:07:23.374 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 18:07:23.375 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 18:07:23.375 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 18:07:23.657 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cfac0bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@57d7c511, org.springframework.security.web.header.HeaderWriterFilter@5bed0ff4, org.springframework.security.web.authentication.logout.LogoutFilter@1e75bef1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c28009f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45ac973, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24d73c51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@549debdb, org.springframework.security.web.session.SessionManagementFilter@1c512bb, org.springframework.security.web.access.ExceptionTranslationFilter@6097f225, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dc2c13c]
01-28 18:07:24.106 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:07:24.124 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 18:07:24.590 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 18:07:25.129 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:07:25.649 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 18:07:26.021 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 18:07:26.050 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 18:07:26.104 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 18:07:26.122 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 18:07:26.144 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 18:07:26.189 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 18:07:27.387 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 18:07:27.529 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 18:07:27.890 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$cBF7gtHGHAHrT5iX.ZB2k.2LPRrHSdEyP6ctd35v2hasYpY9niXsC.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 18:07:27.915 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.783 seconds (JVM running for 15.673)
01-28 18:07:27.969 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@747b8f5c]
01-28 18:07:27.997 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@19f1f330
01-28 18:07:28.004 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@70f3bf00
01-28 18:07:28.005 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4f0cdd0f
01-28 18:07:28.007 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 18:07:28.007 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 18:07:28.008 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 18:07:28.008 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 18:07:28.008 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 18:07:28.009 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 18:07:28.010 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 18:07:28.011 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 18:07:28.011 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 18:07:28.158 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 18:07:28.240 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 18:07:28.248 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 18:07:28.249 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 18:07:28.271 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 18:07:28.466 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 18:07:28.560 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 18:07:28.579 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 18:07:28.581 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 18:07:28.596 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 19:41:56.275 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 19:41:56.293 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 19:41:56.693 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 19:41:56.731 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17cdf2d0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1755e85b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@736d6a5c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2371aaca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b529706, org.springframework.test.context.transaction.TransactionalTestExecutionListener@63fdab07, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b5a12ae, org.springframework.test.context.event.EventPublishingTestExecutionListener@5553d0f5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1af687fe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14dda234, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f390d63, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@74a6a609, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a411614]
01-28 19:41:58.350 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 19:42:00.231 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 19:42:01.117 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:42:01.122 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 19:42:02.024 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 881ms. Found 9 JPA repository interfaces.
01-28 19:42:02.068 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:42:02.072 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 19:42:02.118 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.119 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.120 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.122 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.123 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.124 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.125 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.126 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.127 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:02.127 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 30ms. Found 0 Redis repository interfaces.
01-28 19:42:02.376 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 19:42:02.814 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 19:42:03.682 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 19:42:04.690 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 19:42:04.865 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 19:42:05.307 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 19:42:05.598 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 19:42:05.881 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 19:42:05.916 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 19:42:07.510 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 19:42:07.521 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 19:42:08.603 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 19:42:10.322 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 19:42:10.331 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@438a2337, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@593d5f39, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@5e537465, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@4f27643d}
01-28 19:42:10.838 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 19:42:10.839 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 19:42:10.839 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 19:42:10.839 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 19:42:10.839 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 19:42:10.840 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 19:42:10.840 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 19:42:10.840 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 19:42:10.841 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 19:42:10.841 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 19:42:11.107 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61a7930e, org.springframework.security.web.context.SecurityContextPersistenceFilter@1621264e, org.springframework.security.web.header.HeaderWriterFilter@47b5c247, org.springframework.security.web.authentication.logout.LogoutFilter@43076326, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4addfb95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1435feb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6479b4cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60eacbbf, org.springframework.security.web.session.SessionManagementFilter@728cf276, org.springframework.security.web.access.ExceptionTranslationFilter@7f77d839, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b6d88d1]
01-28 19:42:11.521 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:42:11.541 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:42:12.076 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 19:42:12.779 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:42:13.416 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 19:42:13.910 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 19:42:13.943 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 19:42:14.010 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 19:42:14.036 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 19:42:14.062 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 19:42:14.124 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 19:42:16.181 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 19:42:16.350 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 19:42:17.161 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$Z2nX3duAe9YA0f7Brh84meNOJKoMJKqaTNtM3k9Hs/heWiqJy.gny.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 19:42:17.195 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 20.327 seconds (JVM running for 25.52)
01-28 19:42:17.311 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@182934f2]
01-28 19:42:17.382 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@69d145f6
01-28 19:42:17.389 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@5910c67e
01-28 19:42:17.391 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4540aade
01-28 19:42:17.392 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 19:42:17.393 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 19:42:17.394 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 19:42:17.394 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 19:42:17.395 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 19:42:17.395 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 19:42:17.397 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 19:42:17.398 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 19:42:17.399 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 19:42:17.603 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 19:42:17.721 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 19:42:17.727 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 19:42:17.728 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 19:42:17.750 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 19:42:18.061 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:42:18.132 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 19:42:18.153 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 19:42:18.155 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 19:42:18.171 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 19:42:53.292 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 19:42:53.314 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 19:42:53.748 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 19:42:53.785 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@17cdf2d0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1755e85b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@736d6a5c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2371aaca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b529706, org.springframework.test.context.transaction.TransactionalTestExecutionListener@63fdab07, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b5a12ae, org.springframework.test.context.event.EventPublishingTestExecutionListener@5553d0f5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1af687fe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14dda234, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f390d63, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@74a6a609, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a411614]
01-28 19:42:55.268 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 19:42:56.368 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 19:42:56.798 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:42:56.801 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 19:42:57.354 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 539ms. Found 9 JPA repository interfaces.
01-28 19:42:57.380 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:42:57.382 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 19:42:57.413 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.415 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.416 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.417 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.418 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.419 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.420 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.421 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.421 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:42:57.422 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 26ms. Found 0 Redis repository interfaces.
01-28 19:42:57.583 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 19:42:57.922 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 19:42:58.373 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 19:42:58.990 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 19:42:59.110 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 19:42:59.403 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 19:42:59.580 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 19:42:59.832 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 19:42:59.857 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 19:43:01.378 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 19:43:01.389 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 19:43:02.423 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 19:43:04.042 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 19:43:04.053 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@2f89b44e, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@730a140b, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@2f29046b, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@2a1fce44}
01-28 19:43:04.490 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 19:43:04.490 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 19:43:04.491 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 19:43:04.491 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 19:43:04.491 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 19:43:04.492 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 19:43:04.492 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 19:43:04.492 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 19:43:04.492 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 19:43:04.493 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 19:43:04.704 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7225f871, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a592d22, org.springframework.security.web.header.HeaderWriterFilter@4e739968, org.springframework.security.web.authentication.logout.LogoutFilter@35b8b69f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56540a58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bde85b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8374911, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bff4cb9, org.springframework.security.web.session.SessionManagementFilter@4a23be9, org.springframework.security.web.access.ExceptionTranslationFilter@621c7b91, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c3f9618]
01-28 19:43:05.137 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:43:05.155 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:43:05.676 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 19:43:06.292 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:43:06.845 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 19:43:07.333 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 19:43:07.372 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 19:43:07.445 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 19:43:07.468 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 19:43:07.495 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 19:43:07.642 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 19:43:08.950 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 19:43:09.112 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 19:44:17.046 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$uTEgUA37dybnDa5H.YyeW.gtU93APSKVy5MhSZiVB6VagiEqh.WHy.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 19:44:17.084 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 83.189 seconds (JVM running for 85.42)
01-28 19:44:17.153 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@4a16325]
01-28 19:44:17.183 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@2da3d7d3
01-28 19:44:17.189 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@3435b6d8
01-28 19:44:17.193 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@76cf849f
01-28 19:44:17.196 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 19:44:17.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 19:44:17.198 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 19:44:17.199 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 19:44:17.199 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 19:44:17.200 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 19:44:17.201 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 19:44:17.202 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 19:44:17.202 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 19:44:17.414 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 19:46:15.560 WARN  --- [HikariPool-1 housekeeper] [HikariPool$HouseKeeper]:787 com.zaxxer.hikari.pool.HikariPool >>> HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m36s901ms).
01-28 19:46:15.592 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 19:46:15.599 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 19:46:15.600 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 19:46:15.622 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 19:47:44.264 WARN  --- [HikariPool-1 housekeeper] [HikariPool$HouseKeeper]:787 com.zaxxer.hikari.pool.HikariPool >>> HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m28s704ms).
01-28 19:47:44.283 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:47:44.409 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 19:47:44.440 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 19:47:44.445 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 19:47:44.478 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 19:57:47.762 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 19:57:47.778 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 19:57:48.209 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 19:57:48.267 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 19:57:49.543 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 19:57:50.730 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 19:57:51.190 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:57:51.193 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 19:57:51.828 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 622ms. Found 9 JPA repository interfaces.
01-28 19:57:51.855 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:57:51.857 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 19:57:51.887 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.888 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.889 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.890 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.890 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.891 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.892 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.893 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.894 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:57:51.894 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
01-28 19:57:52.017 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 19:57:52.307 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 19:57:52.760 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 19:57:53.330 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 19:57:53.485 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 19:57:53.837 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 19:57:54.004 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 19:57:54.264 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 19:57:54.285 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 19:57:55.669 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 19:57:55.677 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 19:57:56.557 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 19:57:57.913 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 19:57:57.923 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@58835bba, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@222eda8a, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@3331800f, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@c414eb3}
01-28 19:57:58.420 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 19:57:58.420 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 19:57:58.421 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 19:57:58.422 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 19:57:58.422 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 19:57:58.423 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 19:57:58.423 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 19:57:58.423 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 19:57:58.424 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 19:57:58.424 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 19:57:58.692 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16f15a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c468360, org.springframework.security.web.header.HeaderWriterFilter@71ce19ee, org.springframework.security.web.authentication.logout.LogoutFilter@6bec566e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@357e7113, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e489957, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e7cb01a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@548c5127, org.springframework.security.web.session.SessionManagementFilter@47e70f54, org.springframework.security.web.access.ExceptionTranslationFilter@45ac973, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b0d480c]
01-28 19:57:59.158 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:57:59.185 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:57:59.795 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 19:58:00.371 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:58:00.968 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 19:58:01.369 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 19:58:01.396 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 19:58:01.443 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 19:58:01.464 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 19:58:01.485 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 19:58:01.534 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 19:58:02.751 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 19:58:02.883 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 19:58:03.287 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$qHuNF.067QQHkpxpw0PafeoxUwi6U6u4sb8qa/Fkqs.p/1OZ23Tby.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 19:58:03.310 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 14.937 seconds (JVM running for 17.223)
01-28 19:58:03.362 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@35d44cd3]
01-28 19:58:03.394 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@21dd9203
01-28 19:58:03.399 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@fa689db
01-28 19:58:03.401 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4d4bac56
01-28 19:58:03.402 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 19:58:03.403 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 19:58:03.403 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 19:58:03.404 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 19:58:03.404 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 19:58:03.404 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 19:58:03.405 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 19:58:03.406 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 19:58:03.406 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 19:58:03.606 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 19:58:03.689 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 19:58:03.695 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 19:58:03.697 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 19:58:03.716 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 19:58:03.938 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:58:04.055 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 19:58:04.078 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 19:58:04.081 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 19:58:04.103 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 19:58:57.796 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 19:58:57.823 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 19:58:58.350 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 19:58:58.391 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 19:58:59.783 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 19:59:00.840 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 19:59:01.279 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:59:01.282 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 19:59:01.798 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 505ms. Found 9 JPA repository interfaces.
01-28 19:59:01.820 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:59:01.822 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 19:59:01.845 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.846 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.847 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.847 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.848 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.849 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.850 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.851 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.852 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:01.853 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 19ms. Found 0 Redis repository interfaces.
01-28 19:59:01.963 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 19:59:02.240 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 19:59:02.605 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 19:59:03.156 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 19:59:03.276 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 19:59:03.515 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 19:59:03.657 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 19:59:03.879 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 19:59:03.898 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 19:59:05.104 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 19:59:05.112 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 19:59:05.964 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 19:59:07.181 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 19:59:07.189 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@3331800f, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@c414eb3, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@4edd8a0a, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@1a73f3d1}
01-28 19:59:07.641 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 19:59:07.642 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 19:59:07.642 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 19:59:07.642 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 19:59:07.643 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 19:59:07.643 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 19:59:07.644 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 19:59:07.644 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 19:59:07.645 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 19:59:07.645 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 19:59:07.863 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35630ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e75bef1, org.springframework.security.web.header.HeaderWriterFilter@322f84fd, org.springframework.security.web.authentication.logout.LogoutFilter@374bf34b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5feaafb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b827796, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c04ec8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e80de85, org.springframework.security.web.session.SessionManagementFilter@45302e66, org.springframework.security.web.access.ExceptionTranslationFilter@40239b34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6689bf04]
01-28 19:59:08.238 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:59:08.253 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:59:08.791 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 19:59:09.311 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:59:09.822 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 19:59:10.184 INFO  --- [redisson-netty-4-13] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 19:59:10.245 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 19:59:10.288 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 19:59:10.313 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 19:59:10.335 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 19:59:10.380 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 19:59:11.579 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 19:59:11.729 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 19:59:12.156 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$USiUvyV2sY/EdJYTik2QzO65IE0BUjpJ0ILk2q.uZ0V5YwUneUx6G.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 19:59:12.182 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.697 seconds (JVM running for 15.506)
01-28 19:59:12.241 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@445adbd7]
01-28 19:59:12.267 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@1e466d
01-28 19:59:12.272 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@6b170692
01-28 19:59:12.274 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@3696d12d
01-28 19:59:12.276 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 19:59:12.276 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 19:59:12.277 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 19:59:12.277 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 19:59:12.278 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 19:59:12.278 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 19:59:12.279 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 19:59:12.280 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 19:59:12.280 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 19:59:12.437 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 19:59:12.524 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 19:59:12.531 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 19:59:12.532 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 19:59:12.554 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 19:59:12.772 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:59:12.845 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 19:59:12.865 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 19:59:12.867 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 19:59:12.890 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 19:59:46.365 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 19:59:46.385 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 19:59:46.922 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 19:59:46.964 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 19:59:48.219 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 19:59:49.332 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 19:59:49.757 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:59:49.760 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 19:59:50.260 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 489ms. Found 9 JPA repository interfaces.
01-28 19:59:50.280 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 19:59:50.282 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 19:59:50.304 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.306 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.307 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.308 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.309 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.310 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.311 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.311 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.312 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 19:59:50.313 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 20ms. Found 0 Redis repository interfaces.
01-28 19:59:50.421 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 19:59:50.683 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 19:59:51.041 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 19:59:51.593 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 19:59:51.718 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 19:59:51.997 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 19:59:52.155 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 19:59:52.358 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 19:59:52.376 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 19:59:53.573 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 19:59:53.581 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 19:59:54.424 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 19:59:55.665 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 19:59:55.673 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@4edd8a0a, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@1a73f3d1, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@257d3968, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@23cfdfa2}
01-28 19:59:56.129 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 19:59:56.130 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 19:59:56.130 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 19:59:56.130 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 19:59:56.131 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 19:59:56.131 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 19:59:56.132 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 19:59:56.132 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 19:59:56.132 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 19:59:56.133 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 19:59:56.301 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d60cbad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3599b18, org.springframework.security.web.header.HeaderWriterFilter@6e7cb01a, org.springframework.security.web.authentication.logout.LogoutFilter@629cf53c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@255d4d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f6a6d46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4172c967, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51d9479c, org.springframework.security.web.session.SessionManagementFilter@317fa5dd, org.springframework.security.web.access.ExceptionTranslationFilter@382608d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16f15a4]
01-28 19:59:56.619 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:59:56.632 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 19:59:57.095 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 19:59:57.621 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 19:59:58.170 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 19:59:58.533 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 19:59:58.559 INFO  --- [redisson-netty-4-15] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 19:59:58.597 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 19:59:58.614 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 19:59:58.633 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 19:59:58.682 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 19:59:59.865 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:00:00.013 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:00:00.410 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$pGeQiywBz0HJ4ytArWYWNusKdaHpq.7EcFHyNFuF.o2IxG6F5ofii.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:00:00.432 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.388 seconds (JVM running for 15.214)
01-28 20:00:00.488 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@3fb54673]
01-28 20:00:00.517 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@2ea4e762
01-28 20:00:00.522 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@68af8288
01-28 20:00:00.524 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@71634e64
01-28 20:00:00.525 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:00:00.526 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:00:00.527 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:00:00.527 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:00:00.527 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:00:00.528 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:00:00.528 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:00:00.529 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:00:00.529 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:00:00.704 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:00:00.796 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:00:00.801 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:00:00.803 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:00:00.823 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:00:01.017 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:00:01.105 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:00:01.127 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:00:01.130 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:00:01.145 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:00:44.395 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:00:44.424 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:00:44.940 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:00:44.976 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:00:46.292 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:00:47.360 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:00:47.773 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:00:47.776 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:00:48.230 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 443ms. Found 9 JPA repository interfaces.
01-28 20:00:48.255 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:00:48.257 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:00:48.358 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.359 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.361 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.362 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.364 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.366 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.367 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.368 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.369 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:00:48.369 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 26ms. Found 0 Redis repository interfaces.
01-28 20:00:48.495 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:00:48.770 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:00:49.148 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:00:49.668 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:00:49.766 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:00:50.048 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:00:50.214 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:00:50.444 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:00:50.462 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:00:51.572 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:00:51.580 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:00:52.552 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:00:53.728 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:00:53.734 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@5c0d3715, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@5d67bf4d, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@31de8099, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@40d04cf8}
01-28 20:00:54.151 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:00:54.151 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:00:54.152 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:00:54.152 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:00:54.153 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:00:54.153 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:00:54.153 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:00:54.154 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:00:54.154 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:00:54.155 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:00:54.334 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33622388, org.springframework.security.web.context.SecurityContextPersistenceFilter@317fa5dd, org.springframework.security.web.header.HeaderWriterFilter@7d108063, org.springframework.security.web.authentication.logout.LogoutFilter@b666366, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4dd425dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c19bb2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47400608, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e03bb74, org.springframework.security.web.session.SessionManagementFilter@236206f8, org.springframework.security.web.access.ExceptionTranslationFilter@9a16af1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@669469c9]
01-28 20:00:54.685 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:00:54.700 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:00:55.288 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:00:55.887 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:00:56.430 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:00:56.830 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:00:56.857 INFO  --- [redisson-netty-4-18] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:00:56.900 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:00:56.924 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:00:56.945 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:00:56.990 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:00:58.245 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:00:58.400 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:00:58.813 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$4ELEDtEyMMT7PCAwV9o16u5IZmN5N1i5oD0bv2T3Yfa1dqhVnQphe.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:00:58.838 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.773 seconds (JVM running for 15.671)
01-28 20:00:58.893 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@296a350]
01-28 20:00:58.921 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@1764e45e
01-28 20:00:58.926 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@2ad6aeb8
01-28 20:00:58.927 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@14d513ca
01-28 20:00:58.929 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:00:58.930 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:00:58.930 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:00:58.931 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:00:58.931 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:00:58.931 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:00:58.932 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:00:58.933 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:00:58.933 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:00:59.105 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:00:59.211 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:00:59.217 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:00:59.219 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:00:59.243 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:00:59.472 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:00:59.561 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:00:59.584 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:00:59.589 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:00:59.605 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:01:50.797 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:01:50.816 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:01:51.315 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:01:51.346 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:01:52.686 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:01:53.664 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:01:54.078 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:01:54.080 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:01:54.590 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 497ms. Found 9 JPA repository interfaces.
01-28 20:01:54.613 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:01:54.615 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:01:54.640 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.641 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.642 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.643 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.644 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.645 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.646 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.647 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.648 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:01:54.648 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 20:01:54.767 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:01:55.074 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:01:55.466 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:01:56.020 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:01:56.142 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:01:56.415 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:01:56.570 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:01:56.766 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:01:56.785 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:01:57.946 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:01:57.954 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:01:58.821 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:02:00.100 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:02:00.109 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@58835bba, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@222eda8a, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@3331800f, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@c414eb3}
01-28 20:02:00.561 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:02:00.562 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:02:00.563 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:02:00.563 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:02:00.564 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:02:00.564 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:02:00.565 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:02:00.565 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:02:00.565 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:02:00.566 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:02:00.733 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24ac87a, org.springframework.security.web.context.SecurityContextPersistenceFilter@71ac5723, org.springframework.security.web.header.HeaderWriterFilter@30a4a111, org.springframework.security.web.authentication.logout.LogoutFilter@51bc649e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fcb737, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b518645, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@362fd4e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ac71b87, org.springframework.security.web.session.SessionManagementFilter@374bf34b, org.springframework.security.web.access.ExceptionTranslationFilter@6e7cb01a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9a74a93]
01-28 20:02:01.049 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:02:01.064 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:02:01.537 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:02:02.055 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:02:02.577 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:02:02.989 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:02:03.017 INFO  --- [redisson-netty-4-17] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:02:03.063 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:02:03.081 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:02:03.100 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:02:03.139 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:02:04.379 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:02:04.510 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:02:04.896 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$h7avPU6Ug8ONDbq5VkkYWe75ODAUuA3oT0roeixYOyXC/ogN55HO..我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:02:04.918 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.483 seconds (JVM running for 15.419)
01-28 20:02:04.977 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@f359e65]
01-28 20:02:05.004 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@21dd9203
01-28 20:02:05.009 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@32f54c2a
01-28 20:02:05.011 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@49654a35
01-28 20:02:05.013 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:02:05.013 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:02:05.014 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:02:05.014 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:02:05.014 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:02:05.015 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:02:05.016 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:02:05.017 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:02:05.017 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:02:05.187 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:02:05.268 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:02:05.273 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:02:05.274 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:02:05.292 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:02:05.483 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:02:05.572 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:02:05.597 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:02:05.600 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:02:05.623 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:02:49.353 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:02:49.372 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:02:49.841 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:02:49.891 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:02:51.284 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:02:52.354 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:02:52.757 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:02:52.760 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:02:53.223 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 452ms. Found 9 JPA repository interfaces.
01-28 20:02:53.247 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:02:53.250 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:02:53.277 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.278 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.278 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.279 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.280 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.282 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.282 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.283 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.284 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:02:53.285 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 23ms. Found 0 Redis repository interfaces.
01-28 20:02:53.428 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:02:53.748 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:02:54.173 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:02:54.750 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:02:54.868 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:02:55.176 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:02:55.332 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:02:55.564 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:02:55.581 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:02:56.752 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:02:56.760 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:02:57.638 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:02:58.861 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:02:58.868 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@c414eb3, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@4edd8a0a, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@1a73f3d1, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@257d3968}
01-28 20:02:59.334 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:02:59.335 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:02:59.335 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:02:59.336 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:02:59.338 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:02:59.339 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:02:59.340 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:02:59.342 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:02:59.342 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:02:59.343 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:02:59.520 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13346a64, org.springframework.security.web.context.SecurityContextPersistenceFilter@30a4a111, org.springframework.security.web.header.HeaderWriterFilter@e5f05f8, org.springframework.security.web.authentication.logout.LogoutFilter@7cb38a6a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1f3dafd4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bec566e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f391e52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1802f60c, org.springframework.security.web.session.SessionManagementFilter@4004bfba, org.springframework.security.web.access.ExceptionTranslationFilter@1e75bef1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e80de85]
01-28 20:02:59.851 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:02:59.866 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:03:00.320 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:03:00.864 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:03:01.394 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:03:01.792 INFO  --- [redisson-netty-4-21] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:03:01.821 INFO  --- [redisson-netty-4-14] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:03:01.868 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:03:01.887 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:03:01.909 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:03:01.948 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:03:03.172 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:03:03.319 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:03:03.706 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$PmWp6inWFozDWdEMZj4jJORTx2KTo3cx9/zdhML.HiQlEZZt/g3Iq.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:03:03.729 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.73 seconds (JVM running for 15.44)
01-28 20:03:03.781 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@627f678d]
01-28 20:03:03.807 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@63243c8f
01-28 20:03:03.813 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@71634e64
01-28 20:03:03.814 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@6173863f
01-28 20:03:03.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:03:03.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:03:03.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:03:03.817 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:03:03.817 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:03:03.818 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:03:03.818 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:03:03.819 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:03:03.819 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:03:03.990 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"创建用户","scope":"user:create"},{"name":"设置用户角色","scope":"user:setUserRole"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:03:04.086 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:03:04.094 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:03:04.095 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:03:04.119 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:03:04.351 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:03:04.427 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:03:04.444 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:03:04.447 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:03:04.470 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:03:46.466 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:03:46.488 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:03:46.947 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:03:46.979 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:03:48.319 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:03:49.375 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:03:49.818 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:03:49.821 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:03:50.316 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 485ms. Found 9 JPA repository interfaces.
01-28 20:03:50.340 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:03:50.342 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:03:50.373 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.374 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.375 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.376 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.377 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.378 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.379 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.380 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.380 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:03:50.381 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 24ms. Found 0 Redis repository interfaces.
01-28 20:03:50.495 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:03:50.815 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:03:51.191 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:03:51.748 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:03:51.886 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:03:52.147 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:03:52.289 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:03:52.514 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:03:52.533 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:03:53.756 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:03:53.765 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:03:54.634 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:03:55.848 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:03:55.854 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@4edd8a0a, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@1a73f3d1, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@257d3968, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@23cfdfa2}
01-28 20:03:56.315 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:03:56.315 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:03:56.316 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:03:56.316 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:03:56.317 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:03:56.317 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:03:56.318 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:03:56.318 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:03:56.319 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:03:56.320 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:03:56.489 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e80de85, org.springframework.security.web.context.SecurityContextPersistenceFilter@169d5567, org.springframework.security.web.header.HeaderWriterFilter@113cc14d, org.springframework.security.web.authentication.logout.LogoutFilter@67aaf882, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@20a46227, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27c827ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e5f05f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@173b24c4, org.springframework.security.web.session.SessionManagementFilter@47c422d3, org.springframework.security.web.access.ExceptionTranslationFilter@4e553d60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b9615cb]
01-28 20:03:56.802 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:03:56.814 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:03:57.290 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:03:57.807 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:03:58.301 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:03:58.693 INFO  --- [redisson-netty-4-20] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:03:58.719 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:03:58.764 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:03:58.787 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:03:58.807 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:03:58.852 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:04:00.015 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:04:00.175 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:04:00.656 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$eLf5eEiEDTXNkEyuEA6KnOQVmVovQC4b8.7rGBCEHos2ERh0rYQvK.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:04:00.724 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.656 seconds (JVM running for 15.578)
01-28 20:04:00.783 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@537fb7bf]
01-28 20:04:00.807 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@2ea4e762
01-28 20:04:00.812 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@4d4bac56
01-28 20:04:00.814 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@656672fb
01-28 20:04:00.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:04:00.816 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:04:00.817 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:04:00.817 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:04:00.818 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:04:00.818 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:04:00.820 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:04:00.821 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:04:00.822 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:04:00.991 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:04:01.076 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:04:01.082 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:04:01.084 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:04:01.110 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:04:01.307 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:04:01.381 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:04:01.403 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:04:01.406 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:04:01.420 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:04:29.056 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:04:29.093 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:04:29.676 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:04:29.736 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:04:31.137 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:04:32.377 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:04:32.874 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:04:32.877 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:04:33.337 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 450ms. Found 9 JPA repository interfaces.
01-28 20:04:33.362 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:04:33.363 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:04:33.390 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.392 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.393 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.394 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.395 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.396 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.397 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.398 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.398 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:04:33.399 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 20:04:33.506 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:04:33.770 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:04:34.175 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:04:34.769 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:04:34.886 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:04:35.150 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:04:35.302 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:04:35.510 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:04:35.532 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:04:36.744 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:04:36.754 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:04:37.603 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:04:38.895 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:04:38.906 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@222eda8a, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@3331800f, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@c414eb3, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@4edd8a0a}
01-28 20:04:39.417 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:04:39.417 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:04:39.418 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:04:39.418 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:04:39.418 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:04:39.419 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:04:39.419 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:04:39.420 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:04:39.420 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:04:39.420 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:04:39.579 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c3114ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b827796, org.springframework.security.web.header.HeaderWriterFilter@47e70f54, org.springframework.security.web.authentication.logout.LogoutFilter@4172c967, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7524125c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4351d055, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@317fa5dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642d971f, org.springframework.security.web.session.SessionManagementFilter@7841c990, org.springframework.security.web.access.ExceptionTranslationFilter@19d0d1ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ead245]
01-28 20:04:39.899 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:04:39.915 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:04:40.376 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:04:40.916 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:04:41.487 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:04:41.924 INFO  --- [redisson-netty-4-21] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:04:41.963 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:04:42.020 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:04:42.038 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:04:42.057 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:04:42.105 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:04:43.256 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:04:43.433 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:04:43.919 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$BrEinRwzpU/uSuN1FxByCeypVQOie9GkkcI0xyktNOGOsY2CH37te.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:04:43.945 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 14.099 seconds (JVM running for 16.205)
01-28 20:04:43.996 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@4f3a8e3e]
01-28 20:04:44.026 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@dbcf7c3
01-28 20:04:44.032 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@fa689db
01-28 20:04:44.034 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@4d4bac56
01-28 20:04:44.036 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:04:44.036 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:04:44.037 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:04:44.037 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:04:44.037 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:04:44.037 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:04:44.038 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:04:44.039 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:04:44.039 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:04:44.183 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:04:44.250 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:04:44.256 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:04:44.257 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:04:44.276 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:04:44.495 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:04:44.587 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:04:44.610 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:04:44.613 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:04:44.629 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:05:43.493 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:05:43.513 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:05:43.981 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:05:44.026 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:05:45.338 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:05:46.342 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:05:46.801 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:05:46.804 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:05:47.318 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 496ms. Found 9 JPA repository interfaces.
01-28 20:05:47.340 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:05:47.342 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:05:47.367 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.368 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.369 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.370 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.371 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.373 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.373 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.374 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.375 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:05:47.376 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 20:05:47.489 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:05:47.774 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:05:48.166 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:05:48.755 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:05:48.870 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:05:49.085 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:05:49.224 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:05:49.446 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:05:49.465 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:05:50.636 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:05:50.644 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:05:51.484 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:05:52.752 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:05:52.762 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@1a73f3d1, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@257d3968, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@23cfdfa2, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@1e09c0b}
01-28 20:05:53.226 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:05:53.227 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:05:53.227 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:05:53.228 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:05:53.228 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:05:53.229 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:05:53.229 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:05:53.229 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:05:53.230 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:05:53.230 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:05:53.394 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4549d616, org.springframework.security.web.context.SecurityContextPersistenceFilter@25c06894, org.springframework.security.web.header.HeaderWriterFilter@3c468360, org.springframework.security.web.authentication.logout.LogoutFilter@4b518645, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35630ee8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c04ec8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3599b18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bfb60b7, org.springframework.security.web.session.SessionManagementFilter@5b827796, org.springframework.security.web.access.ExceptionTranslationFilter@f26cd76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@781bd9dd]
01-28 20:05:53.726 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:05:53.740 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:05:54.225 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:05:54.740 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:05:55.267 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:05:55.626 INFO  --- [redisson-netty-4-23] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:05:55.651 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:05:55.687 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:05:55.703 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:05:55.725 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:05:55.774 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:05:56.942 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:05:57.102 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:05:57.624 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$D.AQN7xCQEyIFXrfZ3TRduDJxdZiqQ3o1DhkpNmKMqcdyqLHaI3Ee.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:05:57.650 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.535 seconds (JVM running for 15.306)
01-28 20:05:57.700 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@556a5e70]
01-28 20:05:57.730 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@444c0f9a
01-28 20:05:57.736 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@3696d12d
01-28 20:05:57.737 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@43120a77
01-28 20:05:57.739 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:05:57.740 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:05:57.741 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:05:57.741 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:05:57.742 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:05:57.742 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:05:57.743 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:05:57.743 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:05:57.744 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:05:57.910 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:05:58.009 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:05:58.015 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:05:58.017 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:05:58.044 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:05:58.300 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:05:58.390 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:05:58.411 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:05:58.415 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:05:58.433 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:06:22.741 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:06:22.762 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:06:23.336 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:06:23.395 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:06:25.103 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:06:26.593 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:06:27.217 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:06:27.220 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:06:27.934 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 702ms. Found 9 JPA repository interfaces.
01-28 20:06:27.983 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:06:27.990 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:06:28.025 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.026 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.027 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.028 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.029 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.030 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.031 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.032 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.033 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:06:28.034 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 22ms. Found 0 Redis repository interfaces.
01-28 20:06:28.196 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:06:28.575 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:06:29.307 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:06:30.138 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:06:30.293 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:06:30.674 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:06:30.896 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:06:31.107 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:06:31.127 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:06:32.504 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:06:32.514 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:06:33.572 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:06:34.915 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:06:34.924 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@13731ff4, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@1ce8084a, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@61d24347, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@347f8029}
01-28 20:06:35.490 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:06:35.491 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:06:35.492 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:06:35.493 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:06:35.493 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:06:35.494 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:06:35.494 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:06:35.495 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:06:35.495 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:06:35.496 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:06:35.664 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7612f385, org.springframework.security.web.context.SecurityContextPersistenceFilter@47c422d3, org.springframework.security.web.header.HeaderWriterFilter@78805df3, org.springframework.security.web.authentication.logout.LogoutFilter@238a7e3d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f071d0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e75bef1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25c06894, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@330d16af, org.springframework.security.web.session.SessionManagementFilter@10bcbbed, org.springframework.security.web.access.ExceptionTranslationFilter@7f57a7a4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ab06829]
01-28 20:06:36.048 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:06:36.112 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:06:36.833 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:06:37.527 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:06:38.171 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:06:38.576 INFO  --- [redisson-netty-4-16] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:06:38.614 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:06:38.662 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:06:38.680 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:06:38.700 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:06:38.748 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:06:39.918 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:06:40.102 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:06:40.517 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$R1.2PCY3EjIMENExB0phveCvz8gasyc3fE1YpHvgJIHhhMZjhYD2y.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:06:40.540 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 17.044 seconds (JVM running for 19.069)
01-28 20:06:40.586 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@651bec9a]
01-28 20:06:40.612 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@a1a72d4
01-28 20:06:40.617 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@5f2ad3d5
01-28 20:06:40.619 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@7f53b345
01-28 20:06:40.621 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:06:40.621 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:06:40.622 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:06:40.622 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:06:40.623 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:06:40.623 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:06:40.624 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:06:40.624 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:06:40.625 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:06:40.779 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"分页查询角色","scope":"role:page"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:06:40.866 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:06:40.873 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:06:40.874 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:06:40.898 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:06:41.102 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:06:41.174 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:06:41.191 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:06:41.193 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:06:41.208 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
01-28 20:08:09.606 INFO  --- [main] [AbstractTestContextBootstrapper]:308 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Neither @ContextConfiguration nor @ContextHierarchy found for test class [ResourceDaoImplTest], using SpringBootContextLoader
01-28 20:08:09.626 INFO  --- [main] [AbstractContextLoader]:264 o.s.test.context.support.AbstractContextLoader >>> Could not detect default resource locations for test class [ResourceDaoImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
01-28 20:08:10.166 INFO  --- [main] [AbstractTestContextBootstrapper]:248 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
01-28 20:08:10.204 INFO  --- [main] [AbstractTestContextBootstrapper]:177 o.s.b.t.context.SpringBootTestContextBootstrapper >>> Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6fd83fc1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f2b503c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@bae7dc0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@209da20d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@e15b7e8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1b2abca6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6392827e, org.springframework.test.context.event.EventPublishingTestExecutionListener@2ed2d9cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@d5b810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43dac38f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@342c38f8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@c88a337, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d0a1059]
01-28 20:08:11.549 INFO  --- [main] [SpringApplication]:651 ResourceDaoImplTest >>> No active profile set, falling back to default profiles: default
01-28 20:08:12.540 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'nacos-discovery' contains invalid characters, please migrate to a valid format.
01-28 20:08:12.950 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:08:12.953 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data JPA repositories in DEFAULT mode.
01-28 20:08:13.508 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 543ms. Found 9 JPA repository interfaces.
01-28 20:08:13.531 INFO  --- [main] [RepositoryConfigurationDelegate]:249 o.s.d.r.config.RepositoryConfigurationDelegate >>> Multiple Spring Data modules found, entering strict repository configuration mode!
01-28 20:08:13.533 INFO  --- [main] [RepositoryConfigurationDelegate]:127 o.s.d.r.config.RepositoryConfigurationDelegate >>> Bootstrapping Spring Data Redis repositories in DEFAULT mode.
01-28 20:08:13.559 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.client.ClientRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.560 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.560 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.resource.ResourceServerRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.561 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.PermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.563 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RolePermissionRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.563 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.RoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.564 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserClientRelationRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.565 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.566 INFO  --- [main] [RepositoryConfigurationExtensionSupport]:348 o.s.d.r.c.RepositoryConfigurationExtensionSupport >>> Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.gapache.cloud.auth.server.dao.repository.user.UserRoleRepository. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
01-28 20:08:13.566 INFO  --- [main] [RepositoryConfigurationDelegate]:187 o.s.d.r.config.RepositoryConfigurationDelegate >>> Finished Spring Data repository scanning in 21ms. Found 0 Redis repository interfaces.
01-28 20:08:13.681 WARN  --- [main] [EndpointId]:155 o.springframework.boot.actuate.endpoint.EndpointId >>> Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
01-28 20:08:13.944 INFO  --- [main] [GenericScope]:295 o.springframework.cloud.context.scope.GenericScope >>> BeanFactory id=f2aff96d-5158-3ceb-a24d-30df3c6dce6d
01-28 20:08:14.328 INFO  --- [main] [PostProcessorRegistrationDelegate$BeanPostProcessorChecker]:330 o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker >>> Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
01-28 20:08:14.850 INFO  --- [main] [LogHelper]:31 org.hibernate.jpa.internal.util.LogHelper >>> HHH000204: Processing PersistenceUnitInfo [name: default]
01-28 20:08:14.961 INFO  --- [main] [Version]:46 org.hibernate.Version >>> HHH000412: Hibernate Core {5.4.9.Final}
01-28 20:08:15.172 INFO  --- [main] [JavaReflectionManager]:49 org.hibernate.annotations.common.Version >>> HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
01-28 20:08:15.289 INFO  --- [main] [HikariDataSource]:110 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Starting...
01-28 20:08:15.488 INFO  --- [main] [HikariDataSource]:123 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Start completed.
01-28 20:08:15.507 INFO  --- [main] [Dialect]:172 org.hibernate.dialect.Dialect >>> HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect
01-28 20:08:16.724 INFO  --- [main] [JtaPlatformInitiator]:52 o.h.e.t.jta.platform.internal.JtaPlatformInitiator >>> HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
01-28 20:08:16.733 INFO  --- [main] [AbstractEntityManagerFactoryBean]:416 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Initialized JPA EntityManagerFactory for persistence unit 'default'
01-28 20:08:17.591 INFO  --- [main] [SecurityAutoConfiguration]:46 c.g.security.config.SecurityAutoConfiguration >>> 启用私钥进行签名############
01-28 20:08:18.854 INFO  --- [main] [SecurityAutoConfiguration]:39 c.g.security.config.SecurityAutoConfiguration >>> 启用公钥解密############
01-28 20:08:18.863 INFO  --- [main] [Oauth2Controller]:47 c.g.cloud.auth.server.controller.Oauth2Controller >>> Oauth2Controller init:{authorization_code=com.gapache.cloud.auth.server.security.impl.AuthorizationCodeGenerateTokenLogic@4edd8a0a, client_credentials=com.gapache.cloud.auth.server.security.impl.ClientCredentialsGenerateTokenLogic@1a73f3d1, password=com.gapache.cloud.auth.server.security.impl.PasswordBaseGenerateTokenLogic@257d3968, refresh_token=com.gapache.cloud.auth.server.security.impl.RefreshTokenGenerateTokenLogic@23cfdfa2}
01-28 20:08:19.265 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/images/**'], []
01-28 20:08:19.266 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/lib/**'], []
01-28 20:08:19.266 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/css/**'], []
01-28 20:08:19.266 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/fonts/**'], []
01-28 20:08:19.267 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/js/**'], []
01-28 20:08:19.268 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/eleTree.js'], []
01-28 20:08:19.268 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/favicon.ico'], []
01-28 20:08:19.268 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/excel/**'], []
01-28 20:08:19.268 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui_exts/**'], []
01-28 20:08:19.269 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: Ant [pattern='/layui/**'], []
01-28 20:08:19.455 INFO  --- [main] [DefaultSecurityFilterChain]:43 o.s.security.web.DefaultSecurityFilterChain >>> Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aa65672, org.springframework.security.web.context.SecurityContextPersistenceFilter@6efc9d3f, org.springframework.security.web.header.HeaderWriterFilter@3599b18, org.springframework.security.web.authentication.logout.LogoutFilter@5e8e02a3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@752180c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bb3294c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ac4f31d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e96489b, org.springframework.security.web.session.SessionManagementFilter@7ed5cc8c, org.springframework.security.web.access.ExceptionTranslationFilter@4351d055, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4549d616]
01-28 20:08:19.777 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:08:19.790 INFO  --- [main] [URLConfigurationSource]:126 com.netflix.config.sources.URLConfigurationSource >>> URLs to be used as dynamic configuration source: [file:/Users/husen/develop/codes/mine/big-plan/ac/auth-center-server/target/classes/config.properties]
01-28 20:08:20.261 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Initializing ExecutorService 'applicationTaskExecutor'
01-28 20:08:20.870 INFO  --- [main] [ExecutorConfigurationSupport]:171 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Initializing ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:08:21.402 INFO  --- [main] [Version]:41 org.redisson.Version >>> Redisson 3.13.4
01-28 20:08:21.826 INFO  --- [redisson-netty-4-21] [ConnectionPool$1]:167 o.r.connection.pool.MasterPubSubConnectionPool >>> 1 connections initialized for /127.0.0.1:6379
01-28 20:08:21.858 INFO  --- [redisson-netty-4-19] [ConnectionPool$1]:167 org.redisson.connection.pool.MasterConnectionPool >>> 24 connections initialized for /127.0.0.1:6379
01-28 20:08:21.903 INFO  --- [main] [RedissonAutoConfiguration]:48 com.gapache.redis.RedissonAutoConfiguration >>> init redissonClient and DistributedLock success
01-28 20:08:21.920 INFO  --- [main] [AuthResourceServerAutoConfiguration$LocalResourceReporterAutoConfiguration]:165 c.g.s.config.AuthResourceServerAutoConfiguration >>> enable register to self[Auth-Center-Server]
01-28 20:08:21.941 INFO  --- [main] [AuthResourceServerAutoConfiguration$RemotePublicKeyLoaderAutoConfiguration]:183 c.g.s.config.AuthResourceServerAutoConfiguration >>> cloudRestTemplate
01-28 20:08:21.984 INFO  --- [main] [AuthResourceServerAutoConfiguration]:61 c.g.s.config.AuthResourceServerAutoConfiguration >>> auto setting AuthResourceServer's config
01-28 20:08:23.196 INFO  --- [main] [EndpointLinksResolver]:58 o.s.b.actuate.endpoint.web.EndpointLinksResolver >>> Exposing 18 endpoint(s) beneath base path '/actuator'
01-28 20:08:23.347 INFO  --- [main] [AuthCenterServer]:96 com.gapache.cloud.auth.server.AuthCenterServer >>> 1.AuthCenter
01-28 20:08:23.725 INFO  --- [main] [AuthCenterServer]:79 com.gapache.cloud.auth.server.AuthCenterServer >>> husen.$2a$10$HedN4Y3j8goUjQvBXVGWhOIjSXQ/M2pCvlAK4MxCkgU1TdwZMIEf2.我是超级管理员.https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif
01-28 20:08:23.746 INFO  --- [main] [StartupInfoLogger]:61 ResourceDaoImplTest >>> Started ResourceDaoImplTest in 13.451 seconds (JVM running for 15.391)
01-28 20:08:23.795 INFO  --- [main] [AuthResourceServerAutoConfiguration]:66 c.g.s.config.AuthResourceServerAutoConfiguration >>> AuthResourceServerAutoConfiguration listening event:org.springframework.boot.context.event.ApplicationReadyEvent[source=org.springframework.boot.SpringApplication@48a32c4f]
01-28 20:08:23.833 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:client, clientController, com.gapache.cloud.auth.server.controller.ClientController@63243c8f
01-28 20:08:23.839 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:role, roleController, com.gapache.cloud.auth.server.controller.RoleController@7e615c6a
01-28 20:08:23.841 INFO  --- [main] [AuthResourceServerAutoConfiguration]:92 c.g.s.config.AuthResourceServerAutoConfiguration >>> find need auth component:user, userController, com.gapache.cloud.auth.server.controller.UserController@32f54c2a
01-28 20:08:23.843 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:page, name=分页查询角色)
01-28 20:08:23.844 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:update, name=更新角色)
01-28 20:08:23.844 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:delete, name=删除角色)
01-28 20:08:23.845 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=role:create, name=创建角色)
01-28 20:08:23.845 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:findByClientId, name=根据clientId查询client)
01-28 20:08:23.846 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:bindUser, name=绑定用户到客户端)
01-28 20:08:23.847 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=client:create, name=创建客户端)
01-28 20:08:23.847 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:setUserRole, name=设置用户角色)
01-28 20:08:23.848 INFO  --- [main] [AuthResourceServerAutoConfiguration]:125 c.g.s.config.AuthResourceServerAutoConfiguration >>> $$------AuthResource------AuthResourceDTO(id=null, scope=user:create, name=创建用户)
01-28 20:08:24.023 INFO  --- [main] [ResourceServiceImpl]:52 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData:{"authResources":[{"name":"分页查询角色","scope":"role:page"},{"name":"更新角色","scope":"role:update"},{"name":"删除角色","scope":"role:delete"},{"name":"创建角色","scope":"role:create"},{"name":"根据clientId查询client","scope":"client:findByClientId"},{"name":"绑定用户到客户端","scope":"client:bindUser"},{"name":"创建客户端","scope":"client:create"},{"name":"设置用户角色","scope":"user:setUserRole"},{"name":"创建用户","scope":"user:create"}],"clientId":"husen19950528201314lq19980824","resourceServerName":"AuthCenter"}
01-28 20:08:24.130 INFO  --- [main] [ResourceServiceImpl]:109 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData delete:[]
01-28 20:08:24.137 INFO  --- [main] [ResourceServiceImpl]:112 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData update:[]
01-28 20:08:24.139 INFO  --- [main] [ResourceServiceImpl]:114 c.g.c.auth.server.service.impl.ResourceServiceImpl >>> receiveReportData add:[]
01-28 20:08:24.165 INFO  --- [main] [AuthResourceServerAutoConfiguration]:134 c.g.s.config.AuthResourceServerAutoConfiguration >>> reporting resource finish, result:true, cost time:0ms
01-28 20:08:24.398 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskScheduler >>> Shutting down ExecutorService 'Nacso-Watch-Task-Scheduler'
01-28 20:08:24.484 INFO  --- [SpringContextShutdownHook] [ExecutorConfigurationSupport]:208 o.s.scheduling.concurrent.ThreadPoolTaskExecutor >>> Shutting down ExecutorService 'applicationTaskExecutor'
01-28 20:08:24.507 INFO  --- [SpringContextShutdownHook] [AbstractEntityManagerFactoryBean]:598 o.s.orm.jpa.LocalContainerEntityManagerFactoryBean >>> Closing JPA EntityManagerFactory for persistence unit 'default'
01-28 20:08:24.510 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:350 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown initiated...
01-28 20:08:24.526 INFO  --- [SpringContextShutdownHook] [HikariDataSource]:352 com.zaxxer.hikari.HikariDataSource >>> HikariPool-1 - Shutdown completed.
